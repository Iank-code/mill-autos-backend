  [1m[35m (49.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateActiveStorageTables (20230819195113)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230819195113"]]
  [1m[36mTRANSACTION (20.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-19 19:51:14.855121"], ["updated_at", "2023-08-19 19:51:14.855121"]]
  [1m[36mTRANSACTION (13.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/customers" for 127.0.0.1 at 2023-08-19 23:53:01 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20230819200133_create_customers.rb


):
  
activerecord (7.0.7) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.7) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.7) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.7) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.7) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.7) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{
  "username": "Ian Kamau", 
  "email": "kian99564@gmail.com",
  "phone_number": 0704412004,
  "password": "ianoz",
  "password_confirmation":"ianoz" 
}
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCustomers (20230819200133)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230819200133"]]
  [1m[36mTRANSACTION (16.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/customers" for 127.0.0.1 at 2023-08-19 23:53:36 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:25: syntax error, unexpected '{', expecting ')'
...(token, ENV["JWT_PASS"], true {algorithm: "HS256"})
...                              ^
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:25: syntax error, unexpected '}', expecting `end'
...SS"], true {algorithm: "HS256"})
...                              ^
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:41: syntax error, unexpected `rescue', expecting `end'
        rescue JWT::ExpiredSignature
        ^~~~~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:43: syntax error, unexpected `rescue', expecting `end'
        rescue JWT::DecodeError, JWT::Verif...
        ^~~~~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:43: dynamic constant assignment
        rescue JWT::DecodeError, JWT::VerificationError
               ^~~~~~~~~~~~~~~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:43: dynamic constant assignment
...deError, JWT::VerificationError
...         ^~~~~~~~~~~~~~~~~~~~~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:43: syntax error, unexpected '\n', expecting '='
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:47: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/application_controller.rb:25: syntax error, unexpected '{', expecting ')'
app/controllers/application_controller.rb:25: syntax error, unexpected '}', expecting `end'
app/controllers/application_controller.rb:41: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:43: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:43: dynamic constant assignment
app/controllers/application_controller.rb:43: dynamic constant assignment
app/controllers/application_controller.rb:43: syntax error, unexpected '\n', expecting '='
app/controllers/application_controller.rb:47: syntax error, unexpected end-of-input, expecting `end'
app/controllers/application_controller.rb:25: syntax error, unexpected '{', expecting ')'
app/controllers/application_controller.rb:25: syntax error, unexpected '}', expecting `end'
app/controllers/application_controller.rb:41: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:43: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:43: dynamic constant assignment
app/controllers/application_controller.rb:43: dynamic constant assignment
app/controllers/application_controller.rb:43: syntax error, unexpected '\n', expecting '='
app/controllers/application_controller.rb:47: syntax error, unexpected end-of-input, expecting `end'
app/controllers/customers_controller.rb:1:in `<main>'
Error occurred while parsing request parameters.
Contents:

{
  "username": "Ian Kamau", 
  "email": "kian99564@gmail.com",
  "phone_number": 0704412004,
  "password": "ianoz",
  "password_confirmation":"ianoz" 
}
Started POST "/customers" for 127.0.0.1 at 2023-08-19 23:53:59 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:25: syntax error, unexpected '{', expecting ')'
...(token, ENV["JWT_PASS"], true {algorithm: "HS256"})
...                              ^
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:25: syntax error, unexpected '}', expecting `end'
...SS"], true {algorithm: "HS256"})
...                              ^
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:47: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/application_controller.rb:25: syntax error, unexpected '{', expecting ')'
app/controllers/application_controller.rb:25: syntax error, unexpected '}', expecting `end'
app/controllers/application_controller.rb:47: syntax error, unexpected end-of-input, expecting `end'
app/controllers/application_controller.rb:25: syntax error, unexpected '{', expecting ')'
app/controllers/application_controller.rb:25: syntax error, unexpected '}', expecting `end'
app/controllers/application_controller.rb:47: syntax error, unexpected end-of-input, expecting `end'
app/controllers/customers_controller.rb:1:in `<main>'
Error occurred while parsing request parameters.
Contents:

{
  "username": "Ian Kamau", 
  "email": "kian99564@gmail.com",
  "phone_number": 0704412004,
  "password": "ianoz",
  "password_confirmation":"ianoz" 
}
Started POST "/customers" for 127.0.0.1 at 2023-08-19 23:55:37 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Error occurred while parsing request parameters.
Contents:

{
  "username": "Ian Kamau", 
  "email": "kian99564@gmail.com",
  "phone_number": 0704412004,
  "password": "ianoz",
  "password_confirmation":"ianoz" 
}
Processing by CustomersController#create as */*
Completed 400 Bad Request in 24ms (ActiveRecord: 0.0ms | Allocations: 21318)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/customers_controller.rb:15:in `user_params'
app/controllers/customers_controller.rb:4:in `create'
Started POST "/customer/register" for 127.0.0.1 at 2023-08-20 00:00:21 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Error occurred while parsing request parameters.
Contents:

{
  "username": "Ian Kamau", 
  "email": "kian99564@gmail.com",
  "phone_number": 0704412004,
  "password": "ianoz",
  "password_confirmation":"ianoz" 
}
Processing by CustomersController#register as */*
Completed 400 Bad Request in 17ms (ActiveRecord: 0.0ms | Allocations: 20022)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/customers_controller.rb:15:in `user_params'
app/controllers/customers_controller.rb:4:in `register'
Started POST "/customer/register" for 127.0.0.1 at 2023-08-20 00:01:27 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Error occurred while parsing request parameters.
Contents:

{
  "username": "Ian Kamau", 
  "email": "kian99564@gmail.com",
  "phone_number": 0704412004,
  "password": "ianoz",
  "password_confirmation":"ianoz" 
}
Processing by CustomersController#register as */*
Completed 400 Bad Request in 13ms (ActiveRecord: 0.0ms | Allocations: 20022)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/customers_controller.rb:15:in `user_params'
app/controllers/customers_controller.rb:4:in `register'
Started POST "/customer/register" for 127.0.0.1 at 2023-08-20 00:05:39 +0300
Processing by CustomersController#register as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}}
[31mUnpermitted parameter: :customer. Context: { controller: CustomersController, action: register, request: #<ActionDispatch::Request:0x00007f41d8013738>, params: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"customers", "action"=>"register", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "kian99564@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "Ian Kamau"], ["email", "kian99564@gmail.com"], ["phone_number", 704412004], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-19 21:05:40.219266"], ["updated_at", "2023-08-19 21:05:40.219266"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "kian99564@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
Completed 500 Internal Server Error in 354ms (ActiveRecord: 16.6ms | Allocations: 23166)


  
NoMethodError (undefined method `app_response' for #<CustomersController:0x00000000008ef8>):
  
app/controllers/customers_controller.rb:8:in `register'
Started POST "/customer/register" for 127.0.0.1 at 2023-08-20 00:05:57 +0300
Processing by CustomersController#register as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}}
[31mUnpermitted parameter: :customer. Context: { controller: CustomersController, action: register, request: #<ActionDispatch::Request:0x00007f41e05dbe10>, params: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"customers", "action"=>"register", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "kian99564@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "kian99564@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
Completed 204 No Content in 297ms (ActiveRecord: 1.8ms | Allocations: 4431)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (14.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (9.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230819200133)[0m
  [1m[35m (13.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113);

[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-19 21:06:25.190337"], ["updated_at", "2023-08-19 21:06:25.190337"]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "927fcd61cc3559356eb5b3badba29bc4e9cefe99"], ["created_at", "2023-08-19 21:06:25.208156"], ["updated_at", "2023-08-19 21:06:25.208156"]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (14.4ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (12.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230819200133)[0m
  [1m[35m (9.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113);

[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-19 21:06:25.464091"], ["updated_at", "2023-08-19 21:06:25.464091"]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-19 21:06:25.477860"], ["key", "environment"]]
  [1m[36mTRANSACTION (13.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "927fcd61cc3559356eb5b3badba29bc4e9cefe99"], ["created_at", "2023-08-19 21:06:25.498840"], ["updated_at", "2023-08-19 21:06:25.498840"]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/customer/register" for 127.0.0.1 at 2023-08-20 00:08:04 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#register as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}}
[31mUnpermitted parameter: :customer. Context: { controller: CustomersController, action: register, request: #<ActionDispatch::Request:0x00007fedc8c05950>, params: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"customers", "action"=>"register", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "kian99564@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "Ian Kamau"], ["email", "kian99564@gmail.com"], ["phone_number", 704412004], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-19 21:08:05.123680"], ["updated_at", "2023-08-19 21:08:05.123680"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (14.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "kian99564@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
Completed 201 Created in 398ms (Views: 0.8ms | ActiveRecord: 16.7ms | Allocations: 40227)


Started POST "/customer/login" for 127.0.0.1 at 2023-08-20 00:48:09 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/customers_controller.rb:15: syntax error, unexpected ',', expecting =>
... Customer.where(sql, {username, user_params[:username], emai...
...                              ^
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/customers_controller.rb:15: syntax error, unexpected tLABEL, expecting '='
... user_params[:username], email: user_params[:email]}).first
...                         ^~~~~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/customers_controller.rb:15: syntax error, unexpected '}', expecting `end'
...e], email: user_params[:email]}).first
...                              ^
):
  
app/controllers/customers_controller.rb:15: syntax error, unexpected ',', expecting =>
app/controllers/customers_controller.rb:15: syntax error, unexpected tLABEL, expecting '='
app/controllers/customers_controller.rb:15: syntax error, unexpected '}', expecting `end'
app/controllers/customers_controller.rb:15: syntax error, unexpected ',', expecting =>
app/controllers/customers_controller.rb:15: syntax error, unexpected tLABEL, expecting '='
app/controllers/customers_controller.rb:15: syntax error, unexpected '}', expecting `end'
Started POST "/customer/login" for 127.0.0.1 at 2023-08-20 00:49:05 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#login as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}}
[31mUnpermitted parameter: :customer. Context: { controller: CustomersController, action: login, request: #<ActionDispatch::Request:0x00007f8250bb3620>, params: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"customers", "action"=>"login", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}} }[0m
[31mUnpermitted parameter: :customer. Context: { controller: CustomersController, action: login, request: #<ActionDispatch::Request:0x00007f8250bb3620>, params: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"customers", "action"=>"login", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}} }[0m
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (username = 'Ian Kamau') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:16:in `login'
[31mUnpermitted parameter: :customer. Context: { controller: CustomersController, action: login, request: #<ActionDispatch::Request:0x00007f8250bb3620>, params: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"customers", "action"=>"login", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}} }[0m
Completed 200 OK in 326ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 37545)


Started POST "/customer/login" for 127.0.0.1 at 2023-08-20 00:52:43 +0300
Processing by CustomersController#login as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}}
[31mUnpermitted parameter: :customer. Context: { controller: CustomersController, action: login, request: #<ActionDispatch::Request:0x00007f82508bf4f0>, params: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"customers", "action"=>"login", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}} }[0m
[31mUnpermitted parameter: :customer. Context: { controller: CustomersController, action: login, request: #<ActionDispatch::Request:0x00007f82508bf4f0>, params: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"customers", "action"=>"login", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}} }[0m
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (username = 'Ian Kamau') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:16:in `login'
[31mUnpermitted parameter: :customer. Context: { controller: CustomersController, action: login, request: #<ActionDispatch::Request:0x00007f82508bf4f0>, params: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"customers", "action"=>"login", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}} }[0m
Completed 200 OK in 295ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1330)


Started POST "/customer/login" for 127.0.0.1 at 2023-08-20 00:52:46 +0300
Processing by CustomersController#login as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}}
[31mUnpermitted parameter: :customer. Context: { controller: CustomersController, action: login, request: #<ActionDispatch::Request:0x00007f8248038258>, params: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"customers", "action"=>"login", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}} }[0m
[31mUnpermitted parameter: :customer. Context: { controller: CustomersController, action: login, request: #<ActionDispatch::Request:0x00007f8248038258>, params: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"customers", "action"=>"login", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}} }[0m
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (username = 'Ian Kamau') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:16:in `login'
[31mUnpermitted parameter: :customer. Context: { controller: CustomersController, action: login, request: #<ActionDispatch::Request:0x00007f8248038258>, params: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"customers", "action"=>"login", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}} }[0m
Completed 200 OK in 292ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1332)


Started POST "/customer/login" for 127.0.0.1 at 2023-08-20 00:52:48 +0300
Processing by CustomersController#login as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}}
[31mUnpermitted parameter: :customer. Context: { controller: CustomersController, action: login, request: #<ActionDispatch::Request:0x00007f8260b37740>, params: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"customers", "action"=>"login", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}} }[0m
[31mUnpermitted parameter: :customer. Context: { controller: CustomersController, action: login, request: #<ActionDispatch::Request:0x00007f8260b37740>, params: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"customers", "action"=>"login", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}} }[0m
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (username = 'Ian Kamau') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:16:in `login'
[31mUnpermitted parameter: :customer. Context: { controller: CustomersController, action: login, request: #<ActionDispatch::Request:0x00007f8260b37740>, params: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"customers", "action"=>"login", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}} }[0m
Completed 200 OK in 293ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1328)


Started POST "/customer/login" for 127.0.0.1 at 2023-08-20 11:11:43 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#login as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}}
[31mUnpermitted parameter: :customer. Context: { controller: CustomersController, action: login, request: #<ActionDispatch::Request:0x00007f193cc3bea8>, params: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"customers", "action"=>"login", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}} }[0m
[31mUnpermitted parameter: :customer. Context: { controller: CustomersController, action: login, request: #<ActionDispatch::Request:0x00007f193cc3bea8>, params: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"customers", "action"=>"login", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}} }[0m
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (username = 'Ian Kamau') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:16:in `login'
[31mUnpermitted parameter: :customer. Context: { controller: CustomersController, action: login, request: #<ActionDispatch::Request:0x00007f193cc3bea8>, params: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"customers", "action"=>"login", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}} }[0m
Completed 200 OK in 366ms (Views: 0.3ms | ActiveRecord: 1.9ms | Allocations: 37546)


Started POST "/customer/login" for 127.0.0.1 at 2023-08-20 11:35:00 +0300
Processing by CustomersController#login as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}}
[31mUnpermitted parameter: :customer. Context: { controller: CustomersController, action: login, request: #<ActionDispatch::Request:0x00007f1934013cf0>, params: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"customers", "action"=>"login", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}} }[0m
[31mUnpermitted parameter: :customer. Context: { controller: CustomersController, action: login, request: #<ActionDispatch::Request:0x00007f1934013cf0>, params: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"customers", "action"=>"login", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}} }[0m
  [1m[36mCustomer Load (2.9ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (username = 'Ian Kamau') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:16:in `login'
[31mUnpermitted parameter: :customer. Context: { controller: CustomersController, action: login, request: #<ActionDispatch::Request:0x00007f1934013cf0>, params: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"customers", "action"=>"login", "customer"=>{"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004"}} }[0m
Completed 200 OK in 314ms (Views: 0.2ms | ActiveRecord: 3.7ms | Allocations: 1445)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (18.8ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (15.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (23.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (12.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230819200133)[0m
  [1m[35m (11.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113);

[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-20 08:48:34.624640"], ["updated_at", "2023-08-20 08:48:34.624640"]]
  [1m[36mTRANSACTION (18.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "927fcd61cc3559356eb5b3badba29bc4e9cefe99"], ["created_at", "2023-08-20 08:48:34.657710"], ["updated_at", "2023-08-20 08:48:34.657710"]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (15.8ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (21.8ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (23.7ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (14.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230819200133)[0m
  [1m[35m (8.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113);

[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-20 08:48:34.978722"], ["updated_at", "2023-08-20 08:48:34.978722"]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-20 08:48:34.993342"], ["key", "environment"]]
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "927fcd61cc3559356eb5b3badba29bc4e9cefe99"], ["created_at", "2023-08-20 08:48:35.012675"], ["updated_at", "2023-08-20 08:48:35.012675"]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/customer/register" for ::1 at 2023-08-20 11:53:11 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#register as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f3ae8eb5dc8 @tempfile=#<Tempfile:/tmp/RackMultipart20230820-16339-19b554k.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.0ms | Allocations: 20080)


  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/models/customer.rb:5: syntax error, unexpected '{', expecting `end'
    validates :phone_number{
                           ^
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/models/customer.rb:6: Can't assign to true
        presence => true,
                    ^~~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/models/customer.rb:7: syntax error, unexpected =>, expecting '='
        uniqueness => true
                   ^~
):
  
app/models/customer.rb:5: syntax error, unexpected '{', expecting `end'
app/models/customer.rb:6: Can't assign to true
app/models/customer.rb:7: syntax error, unexpected =>, expecting '='
app/models/customer.rb:5: syntax error, unexpected '{', expecting `end'
app/models/customer.rb:6: Can't assign to true
app/models/customer.rb:7: syntax error, unexpected =>, expecting '='
app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (18.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (19.8ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (15.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (18.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (11.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230819200133)[0m
  [1m[35m (13.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113);

[0m
  [1m[35m (17.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-20 08:53:55.348961"], ["updated_at", "2023-08-20 08:53:55.348961"]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "927fcd61cc3559356eb5b3badba29bc4e9cefe99"], ["created_at", "2023-08-20 08:53:55.369137"], ["updated_at", "2023-08-20 08:53:55.369137"]]
  [1m[36mTRANSACTION (16.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (19.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (18.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (8.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230819200133)[0m
  [1m[35m (15.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113);

[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-20 08:53:55.667769"], ["updated_at", "2023-08-20 08:53:55.667769"]]
  [1m[36mTRANSACTION (13.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-20 08:53:55.686161"], ["key", "environment"]]
  [1m[36mTRANSACTION (16.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "927fcd61cc3559356eb5b3badba29bc4e9cefe99"], ["created_at", "2023-08-20 08:53:55.709043"], ["updated_at", "2023-08-20 08:53:55.709043"]]
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/customer/register" for ::1 at 2023-08-20 11:54:02 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#register as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f815ce3ec68 @tempfile=#<Tempfile:/tmp/RackMultipart20230820-16888-zionpt.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.0ms | Allocations: 20080)


  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/models/customer.rb:5: syntax error, unexpected '{', expecting `end'
    validates :phone_number{
                           ^
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/models/customer.rb:6: Can't assign to true
        presence: true,
                  ^~~~
):
  
app/models/customer.rb:5: syntax error, unexpected '{', expecting `end'
app/models/customer.rb:6: Can't assign to true
app/models/customer.rb:5: syntax error, unexpected '{', expecting `end'
app/models/customer.rb:6: Can't assign to true
app/controllers/customers_controller.rb:4:in `register'
Started POST "/customer/register" for ::1 at 2023-08-20 11:54:08 +0300
Processing by CustomersController#register as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f815c7ae218 @tempfile=#<Tempfile:/tmp/RackMultipart20230820-16888-1nfejmk.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "kian99564@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "Ian Kamau"], ["email", "kian99564@gmail.com"], ["phone_number", 704412004], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-20 08:54:09.482850"], ["updated_at", "2023-08-20 08:54:09.482850"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "vuk0ay4yybj9jhla8qrogxu4jx52"], ["filename", "web-development.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 2463951], ["checksum", "RVmtgWoAIxqv5kXq//AVMQ=="], ["created_at", "2023-08-20 08:54:09.599422"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "file"], ["record_type", "Customer"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-20 08:54:09.603836"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Update (0.2ms)[0m  [1m[33mUPDATE "customers" SET "updated_at" = ? WHERE "customers"."id" = ?[0m  [["updated_at", "2023-08-20 08:54:09.608832"], ["id", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (20.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
[36m  Disk Storage (14.4ms) [0m[32mUploaded file to key: vuk0ay4yybj9jhla8qrogxu4jx52 (checksum: RVmtgWoAIxqv5kXq//AVMQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4b25aa52-c4da-4dd5-b389-3ac474eaff52) to Async(default) with arguments: #<GlobalID:0x00007f8150c0f728 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
  [1m[36mCustomer Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "kian99564@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
Completed 201 Created in 654ms (Views: 0.6ms | ActiveRecord: 26.7ms | Allocations: 85316)


[ActiveJob] [ActiveStorage::AnalyzeJob] [4b25aa52-c4da-4dd5-b389-3ac474eaff52]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b25aa52-c4da-4dd5-b389-3ac474eaff52] Performing ActiveStorage::AnalyzeJob (Job ID: 4b25aa52-c4da-4dd5-b389-3ac474eaff52) from Async(default) enqueued at 2023-08-20T08:54:09Z with arguments: #<GlobalID:0x00007f8168eae480 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b25aa52-c4da-4dd5-b389-3ac474eaff52] [36m  Disk Storage (2.8ms) [0m[34mDownloaded file from key: vuk0ay4yybj9jhla8qrogxu4jx52[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b25aa52-c4da-4dd5-b389-3ac474eaff52]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b25aa52-c4da-4dd5-b389-3ac474eaff52]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":6000,\"height\":4000,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b25aa52-c4da-4dd5-b389-3ac474eaff52]   [1m[36mTRANSACTION (12.0ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b25aa52-c4da-4dd5-b389-3ac474eaff52] Performed ActiveStorage::AnalyzeJob (Job ID: 4b25aa52-c4da-4dd5-b389-3ac474eaff52) from Async(default) in 767.65ms
Started POST "/customer/login" for ::1 at 2023-08-20 11:54:21 +0300
Processing by CustomersController#login as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "file"=>#<ActionDispatch::Http::UploadedFile:0x000055a2da8db2b0 @tempfile=#<Tempfile:/tmp/RackMultipart20230820-16888-h6j8aa.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (username = 'Ian Kamau') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:16:in `login'
Completed 200 OK in 318ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 6156)


Started POST "/customer/login" for ::1 at 2023-08-20 11:55:03 +0300
Processing by CustomersController#login as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f8168a606d0 @tempfile=#<Tempfile:/tmp/RackMultipart20230820-16888-1v4c7lh.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (username = 'Ian Kamau') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:16:in `login'
Completed 500 Internal Server Error in 325ms (ActiveRecord: 1.6ms | Allocations: 14804)


  
NameError (undefined local variable or method `user' for #<CustomersController:0x00000000014000>
Did you mean?  super):
  
app/controllers/application_controller.rb:11:in `get_inage'
app/controllers/customers_controller.rb:22:in `login'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (15.8ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (18.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (11.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230819200133)[0m
  [1m[35m (14.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113);

[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-20 08:55:55.900439"], ["updated_at", "2023-08-20 08:55:55.900439"]]
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "927fcd61cc3559356eb5b3badba29bc4e9cefe99"], ["created_at", "2023-08-20 08:55:55.920245"], ["updated_at", "2023-08-20 08:55:55.920245"]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (18.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (15.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (12.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230819200133)[0m
  [1m[35m (10.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113);

[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-20 08:55:56.206240"], ["updated_at", "2023-08-20 08:55:56.206240"]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-20 08:55:56.222475"], ["key", "environment"]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "927fcd61cc3559356eb5b3badba29bc4e9cefe99"], ["created_at", "2023-08-20 08:55:56.238460"], ["updated_at", "2023-08-20 08:55:56.238460"]]
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/customer/register" for ::1 at 2023-08-20 11:56:04 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#register as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f5928e593d0 @tempfile=#<Tempfile:/tmp/RackMultipart20230820-17389-17dhivf.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "kian99564@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "Ian Kamau"], ["email", "kian99564@gmail.com"], ["phone_number", 704412004], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-20 08:56:04.712617"], ["updated_at", "2023-08-20 08:56:04.712617"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ksqajr22rjxwgh1kzko02v2y1uiu"], ["filename", "web-development.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 2463951], ["checksum", "RVmtgWoAIxqv5kXq//AVMQ=="], ["created_at", "2023-08-20 08:56:04.778772"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "file"], ["record_type", "Customer"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-20 08:56:04.785454"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Update (0.2ms)[0m  [1m[33mUPDATE "customers" SET "updated_at" = ? WHERE "customers"."id" = ?[0m  [["updated_at", "2023-08-20 08:56:04.790440"], ["id", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (15.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
[36m  Disk Storage (9.7ms) [0m[32mUploaded file to key: ksqajr22rjxwgh1kzko02v2y1uiu (checksum: RVmtgWoAIxqv5kXq//AVMQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 64a6fea5-ba8e-4ccf-b82d-010ad13af338) to Async(default) with arguments: #<GlobalID:0x00007f5934a2dde0 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
  [1m[36mCustomer Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "kian99564@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
Completed 201 Created in 525ms (Views: 0.9ms | ActiveRecord: 20.4ms | Allocations: 99332)


[ActiveJob] [ActiveStorage::AnalyzeJob] [64a6fea5-ba8e-4ccf-b82d-010ad13af338]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [64a6fea5-ba8e-4ccf-b82d-010ad13af338] Performing ActiveStorage::AnalyzeJob (Job ID: 64a6fea5-ba8e-4ccf-b82d-010ad13af338) from Async(default) enqueued at 2023-08-20T08:56:04Z with arguments: #<GlobalID:0x00007f592898cd48 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [64a6fea5-ba8e-4ccf-b82d-010ad13af338] [36m  Disk Storage (4.0ms) [0m[34mDownloaded file from key: ksqajr22rjxwgh1kzko02v2y1uiu[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [64a6fea5-ba8e-4ccf-b82d-010ad13af338]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [64a6fea5-ba8e-4ccf-b82d-010ad13af338]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":6000,\"height\":4000,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [64a6fea5-ba8e-4ccf-b82d-010ad13af338]   [1m[36mTRANSACTION (11.5ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [64a6fea5-ba8e-4ccf-b82d-010ad13af338] Performed ActiveStorage::AnalyzeJob (Job ID: 64a6fea5-ba8e-4ccf-b82d-010ad13af338) from Async(default) in 603.68ms
Started POST "/customer/login" for ::1 at 2023-08-20 11:56:29 +0300
Processing by CustomersController#login as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f5930186ce0 @tempfile=#<Tempfile:/tmp/RackMultipart20230820-17389-1dc7s7n.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (username = 'Ian Kamau') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:16:in `login'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:11:in `get_inage'
Completed 200 OK in 334ms (Views: 0.4ms | ActiveRecord: 4.0ms | Allocations: 16661)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b9841afc9931c999acd2bf9b9b837c6189eb2d14/web-development.jpg" for ::1 at 2023-08-20 11:56:41 +0300
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b9841afc9931c999acd2bf9b9b837c6189eb2d14", "filename"=>"web-development"}
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (1.7ms) [0m[34mGenerated URL for file at key: ksqajr22rjxwgh1kzko02v2y1uiu (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhM054WVdweU1qSnlhbmgzWjJneGEzcHJiekF5ZGpKNU1YVnBkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5kbFlpMWtaWFpsYkc5d2JXVnVkQzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkozZGxZaTFrWlhabGJHOXdiV1Z1ZEM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMy0wOC0yMFQwOTowMTo0MS41NjlaIiwicHVyIjoiYmxvYl9rZXkifX0=--4bd9edd7ef0036f9cdde2772ced9d4d1e3e0a287/web-development.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhM054WVdweU1qSnlhbmgzWjJneGEzcHJiekF5ZGpKNU1YVnBkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5kbFlpMWtaWFpsYkc5d2JXVnVkQzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkozZGxZaTFrWlhabGJHOXdiV1Z1ZEM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMy0wOC0yMFQwOTowMTo0MS41NjlaIiwicHVyIjoiYmxvYl9rZXkifX0=--4bd9edd7ef0036f9cdde2772ced9d4d1e3e0a287/web-development.jpg
Completed 302 Found in 27ms (ActiveRecord: 0.1ms | Allocations: 5634)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhM054WVdweU1qSnlhbmgzWjJneGEzcHJiekF5ZGpKNU1YVnBkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5kbFlpMWtaWFpsYkc5d2JXVnVkQzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkozZGxZaTFrWlhabGJHOXdiV1Z1ZEM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMy0wOC0yMFQwOTowMTo0MS41NjlaIiwicHVyIjoiYmxvYl9rZXkifX0=--4bd9edd7ef0036f9cdde2772ced9d4d1e3e0a287/web-development.jpg" for ::1 at 2023-08-20 11:56:41 +0300
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"web-development"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 181)


Started GET "/favicon.ico" for ::1 at 2023-08-20 11:56:42 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
  [1m[36mActiveRecord::SchemaMigration Pluck (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (2994.9ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (3183.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (1172.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (39.6ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (31.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (65.7ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (19.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (6.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (70.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (284.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (409.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (205.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230819200133)[0m
  [1m[35m (871.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113);

[0m
  [1m[35m (255.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-20 11:09:18.354409"], ["updated_at", "2023-08-20 11:09:18.354409"]]
  [1m[36mTRANSACTION (205.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "927fcd61cc3559356eb5b3badba29bc4e9cefe99"], ["created_at", "2023-08-20 11:09:18.567932"], ["updated_at", "2023-08-20 11:09:18.567932"]]
  [1m[36mTRANSACTION (164.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (138.6ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (356.9ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (189.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (392.6ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (484.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (1159.3ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (538.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (556.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (404.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (2.6ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (25.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (19.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (12.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230819200133)[0m
  [1m[35m (12.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113);

[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-20 11:09:23.136196"], ["updated_at", "2023-08-20 11:09:23.136196"]]
  [1m[36mTRANSACTION (19.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-20 11:09:23.169958"], ["key", "environment"]]
  [1m[36mTRANSACTION (19.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "927fcd61cc3559356eb5b3badba29bc4e9cefe99"], ["created_at", "2023-08-20 11:09:23.209859"], ["updated_at", "2023-08-20 11:09:23.209859"]]
  [1m[36mTRANSACTION (18.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/customer/register" for ::1 at 2023-08-20 14:20:59 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20230820090059_create_admins.rb


):
  
activerecord (7.0.7) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.7) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.7) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.7) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.7) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.7) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (21.4ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (21.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (13.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (16.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230819200133)[0m
  [1m[35m (10.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113);

[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-20 11:21:23.872336"], ["updated_at", "2023-08-20 11:21:23.872336"]]
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "927fcd61cc3559356eb5b3badba29bc4e9cefe99"], ["created_at", "2023-08-20 11:21:23.887616"], ["updated_at", "2023-08-20 11:21:23.887616"]]
  [1m[36mTRANSACTION (14.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (12.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230819200133)[0m
  [1m[35m (10.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113);

[0m
  [1m[35m (15.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-20 11:21:24.164826"], ["updated_at", "2023-08-20 11:21:24.164826"]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-20 11:21:24.181675"], ["key", "environment"]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "927fcd61cc3559356eb5b3badba29bc4e9cefe99"], ["created_at", "2023-08-20 11:21:24.198356"], ["updated_at", "2023-08-20 11:21:24.198356"]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/customer/register" for ::1 at 2023-08-20 14:21:37 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20230820090059_create_admins.rb


):
  
activerecord (7.0.7) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.7) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.7) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.7) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.7) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.7) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateAdmins (20230820090059)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_namber" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230820090059"]]
  [1m[36mTRANSACTION (20.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/customer/register" for ::1 at 2023-08-20 14:22:18 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
AbstractController::ActionNotFound (The action 'reg ister' could not be found for CustomersController
Did you mean?  register):
  
actionpack (7.0.7) lib/abstract_controller/base.rb:146:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/customer/register" for ::1 at 2023-08-20 14:22:42 +0300
  
AbstractController::ActionNotFound (The action 'reg ister' could not be found for CustomersController
Did you mean?  register):
  
actionpack (7.0.7) lib/abstract_controller/base.rb:146:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/customer/register" for ::1 at 2023-08-20 14:23:16 +0300
  
AbstractController::ActionNotFound (The action 'reg ister' could not be found for CustomersController
Did you mean?  register):
  
actionpack (7.0.7) lib/abstract_controller/base.rb:146:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (17.8ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (17.3ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_namber" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (14.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (13.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820090059)[0m
  [1m[35m (10.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133);

[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-20 11:23:30.727303"], ["updated_at", "2023-08-20 11:23:30.727303"]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "315dd6d71116a82dae7707a1f2dea87380e53051"], ["created_at", "2023-08-20 11:23:30.749420"], ["updated_at", "2023-08-20 11:23:30.749420"]]
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (18.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_namber" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (18.1ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (21.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (14.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (16.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (15.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820090059)[0m
  [1m[35m (12.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133);

[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-20 11:23:31.067655"], ["updated_at", "2023-08-20 11:23:31.067655"]]
  [1m[36mTRANSACTION (13.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-20 11:23:31.086788"], ["key", "environment"]]
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "315dd6d71116a82dae7707a1f2dea87380e53051"], ["created_at", "2023-08-20 11:23:31.107717"], ["updated_at", "2023-08-20 11:23:31.107717"]]
  [1m[36mTRANSACTION (13.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/customer/register" for ::1 at 2023-08-20 14:23:48 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
AbstractController::ActionNotFound (The action 'reg ister' could not be found for CustomersController
Did you mean?  register):
  
actionpack (7.0.7) lib/abstract_controller/base.rb:146:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/customer/register" for ::1 at 2023-08-20 14:24:02 +0300
Processing by CustomersController#register as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f448c734e98 @tempfile=#<Tempfile:/tmp/RackMultipart20230820-14644-15byxky.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "kian99564@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.5ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "Ian Kamau"], ["email", "kian99564@gmail.com"], ["phone_number", 704412004], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-20 11:24:02.975335"], ["updated_at", "2023-08-20 11:24:02.975335"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "sfk8fjssk5ptepmdftjm54b5felu"], ["filename", "web-development.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 2463951], ["checksum", "RVmtgWoAIxqv5kXq//AVMQ=="], ["created_at", "2023-08-20 11:24:03.039011"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Create (1.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "file"], ["record_type", "Customer"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-20 11:24:03.042004"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Update (0.2ms)[0m  [1m[33mUPDATE "customers" SET "updated_at" = ? WHERE "customers"."id" = ?[0m  [["updated_at", "2023-08-20 11:24:03.047650"], ["id", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (13.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
[36m  Disk Storage (9.2ms) [0m[32mUploaded file to key: sfk8fjssk5ptepmdftjm54b5felu (checksum: RVmtgWoAIxqv5kXq//AVMQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: fd442ccf-4dff-40fb-9f46-fe2523223003) to Async(default) with arguments: #<GlobalID:0x00007f44989bc718 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "kian99564@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
Completed 201 Created in 585ms (Views: 0.7ms | ActiveRecord: 19.8ms | Allocations: 98181)


[ActiveJob] [ActiveStorage::AnalyzeJob] [fd442ccf-4dff-40fb-9f46-fe2523223003]   [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [fd442ccf-4dff-40fb-9f46-fe2523223003] Performing ActiveStorage::AnalyzeJob (Job ID: fd442ccf-4dff-40fb-9f46-fe2523223003) from Async(default) enqueued at 2023-08-20T11:24:03Z with arguments: #<GlobalID:0x00007f4498b20668 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [fd442ccf-4dff-40fb-9f46-fe2523223003] [36m  Disk Storage (3.3ms) [0m[34mDownloaded file from key: sfk8fjssk5ptepmdftjm54b5felu[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fd442ccf-4dff-40fb-9f46-fe2523223003]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fd442ccf-4dff-40fb-9f46-fe2523223003]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":6000,\"height\":4000,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [fd442ccf-4dff-40fb-9f46-fe2523223003]   [1m[36mTRANSACTION (113.0ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fd442ccf-4dff-40fb-9f46-fe2523223003] Performed ActiveStorage::AnalyzeJob (Job ID: fd442ccf-4dff-40fb-9f46-fe2523223003) from Async(default) in 729.73ms
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (65.7ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (57.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (75.3ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (80.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (95.6ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_namber" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (91.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (77.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (10.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820090059)[0m
  [1m[35m (80.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133);

[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-20 11:24:42.934582"], ["updated_at", "2023-08-20 11:24:42.934582"]]
  [1m[36mTRANSACTION (72.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "315dd6d71116a82dae7707a1f2dea87380e53051"], ["created_at", "2023-08-20 11:24:43.014275"], ["updated_at", "2023-08-20 11:24:43.014275"]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (99.8ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (79.8ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (86.0ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (58.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (89.5ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (55.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (50.0ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_namber" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (58.6ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (66.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (69.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (61.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (14.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820090059)[0m
  [1m[35m (54.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133);

[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-20 11:24:43.963684"], ["updated_at", "2023-08-20 11:24:43.963684"]]
  [1m[36mTRANSACTION (65.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-20 11:24:44.034681"], ["key", "environment"]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "315dd6d71116a82dae7707a1f2dea87380e53051"], ["created_at", "2023-08-20 11:24:44.051686"], ["updated_at", "2023-08-20 11:24:44.051686"]]
  [1m[36mTRANSACTION (56.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/customer/register" for ::1 at 2023-08-20 14:25:03 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#register as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f6d00e40d58 @tempfile=#<Tempfile:/tmp/RackMultipart20230820-14898-lkbank.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "kian99564@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "Ian Kamau"], ["email", "kian99564@gmail.com"], ["phone_number", 704412004], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-20 11:25:04.137481"], ["updated_at", "2023-08-20 11:25:04.137481"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "9olef5tj03xwsg22d5ggnx55ze5j"], ["filename", "web-development.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 2463951], ["checksum", "RVmtgWoAIxqv5kXq//AVMQ=="], ["created_at", "2023-08-20 11:25:04.250136"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "file"], ["record_type", "Customer"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-20 11:25:04.254750"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Update (0.4ms)[0m  [1m[33mUPDATE "customers" SET "updated_at" = ? WHERE "customers"."id" = ?[0m  [["updated_at", "2023-08-20 11:25:04.262828"], ["id", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
[36m  Disk Storage (9.5ms) [0m[32mUploaded file to key: 9olef5tj03xwsg22d5ggnx55ze5j (checksum: RVmtgWoAIxqv5kXq//AVMQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 65aff877-fcad-4fc8-aafc-b94586f46863) to Async(default) with arguments: #<GlobalID:0x00007f6d007b36e8 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
  [1m[36mCustomer Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "kian99564@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
Completed 201 Created in 562ms (Views: 1.5ms | ActiveRecord: 17.3ms | Allocations: 99393)


[ActiveJob] [ActiveStorage::AnalyzeJob] [65aff877-fcad-4fc8-aafc-b94586f46863]   [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [65aff877-fcad-4fc8-aafc-b94586f46863] Performing ActiveStorage::AnalyzeJob (Job ID: 65aff877-fcad-4fc8-aafc-b94586f46863) from Async(default) enqueued at 2023-08-20T11:25:04Z with arguments: #<GlobalID:0x00007f6d0ca8e078 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [65aff877-fcad-4fc8-aafc-b94586f46863] [36m  Disk Storage (4.2ms) [0m[34mDownloaded file from key: 9olef5tj03xwsg22d5ggnx55ze5j[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [65aff877-fcad-4fc8-aafc-b94586f46863]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [65aff877-fcad-4fc8-aafc-b94586f46863]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":6000,\"height\":4000,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [65aff877-fcad-4fc8-aafc-b94586f46863]   [1m[36mTRANSACTION (63.5ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [65aff877-fcad-4fc8-aafc-b94586f46863] Performed ActiveStorage::AnalyzeJob (Job ID: 65aff877-fcad-4fc8-aafc-b94586f46863) from Async(default) in 697.54ms
Started POST "/customer/login" for ::1 at 2023-08-20 14:25:11 +0300
Processing by CustomersController#login as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f6cf4018700 @tempfile=#<Tempfile:/tmp/RackMultipart20230820-14898-5vkfkh.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (username = 'Ian Kamau') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:16:in `login'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:11:in `get_inage'
Completed 200 OK in 301ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 2285)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b9841afc9931c999acd2bf9b9b837c6189eb2d14/web-development.jpg" for ::1 at 2023-08-20 14:27:36 +0300
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b9841afc9931c999acd2bf9b9b837c6189eb2d14", "filename"=>"web-development"}
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (1.5ms) [0m[34mGenerated URL for file at key: 9olef5tj03xwsg22d5ggnx55ze5j (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhPVzlzWldZMWRHb3dNM2gzYzJjeU1tUTFaMmR1ZURVMWVtVTFhZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5kbFlpMWtaWFpsYkc5d2JXVnVkQzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkozZGxZaTFrWlhabGJHOXdiV1Z1ZEM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMy0wOC0yMFQxMTozMjozNi40MzBaIiwicHVyIjoiYmxvYl9rZXkifX0=--9a35625c5d5f758aed2caf633d2f3c894269b0a6/web-development.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhPVzlzWldZMWRHb3dNM2gzYzJjeU1tUTFaMmR1ZURVMWVtVTFhZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5kbFlpMWtaWFpsYkc5d2JXVnVkQzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkozZGxZaTFrWlhabGJHOXdiV1Z1ZEM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMy0wOC0yMFQxMTozMjozNi40MzBaIiwicHVyIjoiYmxvYl9rZXkifX0=--9a35625c5d5f758aed2caf633d2f3c894269b0a6/web-development.jpg
Completed 302 Found in 21ms (ActiveRecord: 0.3ms | Allocations: 4765)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhPVzlzWldZMWRHb3dNM2gzYzJjeU1tUTFaMmR1ZURVMWVtVTFhZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5kbFlpMWtaWFpsYkc5d2JXVnVkQzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkozZGxZaTFrWlhabGJHOXdiV1Z1ZEM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMy0wOC0yMFQxMTozMjozNi40MzBaIiwicHVyIjoiYmxvYl9rZXkifX0=--9a35625c5d5f758aed2caf633d2f3c894269b0a6/web-development.jpg" for ::1 at 2023-08-20 14:27:36 +0300
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"web-development"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 181)


Started GET "/favicon.ico" for ::1 at 2023-08-20 14:27:37 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateAdmins (20230820090059)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE "admins"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (1.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20230820090059"]]
  [1m[36mTRANSACTION (19.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateAdmins (20230820090059)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230820090059"]]
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (14.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (11.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820090059)[0m
  [1m[35m (11.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133);

[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-20 11:44:37.357095"], ["updated_at", "2023-08-20 11:44:37.357095"]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "1f6dfd4c1d885fa1bda5dfd892d06d9d06751e90"], ["created_at", "2023-08-20 11:44:37.375774"], ["updated_at", "2023-08-20 11:44:37.375774"]]
  [1m[36mTRANSACTION (18.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (19.9ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (14.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820090059)[0m
  [1m[35m (8.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133);

[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-20 11:44:37.663975"], ["updated_at", "2023-08-20 11:44:37.663975"]]
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-20 11:44:37.680298"], ["key", "environment"]]
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "1f6dfd4c1d885fa1bda5dfd892d06d9d06751e90"], ["created_at", "2023-08-20 11:44:37.700174"], ["updated_at", "2023-08-20 11:44:37.700174"]]
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (13.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (20.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (12.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820090059)[0m
  [1m[35m (10.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133);

[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-20 11:45:04.835329"], ["updated_at", "2023-08-20 11:45:04.835329"]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "1f6dfd4c1d885fa1bda5dfd892d06d9d06751e90"], ["created_at", "2023-08-20 11:45:04.852048"], ["updated_at", "2023-08-20 11:45:04.852048"]]
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (15.8ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (18.7ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (13.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820090059)[0m
  [1m[35m (9.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133);

[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-20 11:45:05.132325"], ["updated_at", "2023-08-20 11:45:05.132325"]]
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-20 11:45:05.151531"], ["key", "environment"]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "1f6dfd4c1d885fa1bda5dfd892d06d9d06751e90"], ["created_at", "2023-08-20 11:45:05.166561"], ["updated_at", "2023-08-20 11:45:05.166561"]]
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (16.0ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (2.6ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (16.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (2.1ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (13.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (12.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820090059)[0m
  [1m[35m (11.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133);

[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-20 11:45:57.257136"], ["updated_at", "2023-08-20 11:45:57.257136"]]
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "1f6dfd4c1d885fa1bda5dfd892d06d9d06751e90"], ["created_at", "2023-08-20 11:45:57.276843"], ["updated_at", "2023-08-20 11:45:57.276843"]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (16.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (10.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820090059)[0m
  [1m[35m (12.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133);

[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-20 11:45:57.554836"], ["updated_at", "2023-08-20 11:45:57.554836"]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-20 11:45:57.570985"], ["key", "environment"]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "1f6dfd4c1d885fa1bda5dfd892d06d9d06751e90"], ["created_at", "2023-08-20 11:45:57.586370"], ["updated_at", "2023-08-20 11:45:57.586370"]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAdmin Create (0.3ms)[0m  [1m[32mINSERT INTO "admins" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["phone_number", 126506888], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-20 11:46:47.284274"], ["updated_at", "2023-08-20 11:46:47.284274"]]
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[36mcommit transaction[0m
Started POST "/admin/login" for 127.0.0.1 at 2023-08-20 14:48:13 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant AdminssController
Did you mean?  AdminsController):
  
Error occurred while parsing request parameters.
Contents:

{
  "username": "admin", 
  "email": "admin@gmail.com",
  "phone_number": 0742453610,
  "password": "admin",
  "password_confirmation":"admin" 
}
Started POST "/admin/login" for 127.0.0.1 at 2023-08-20 14:48:43 +0300
Error occurred while parsing request parameters.
Contents:

{
  "username": "admin", 
  "email": "admin@gmail.com",
  "phone_number": 0742453610,
  "password": "admin",
  "password_confirmation":"admin" 
}
Processing by AdminsController#login as */*
Completed 400 Bad Request in 19ms (ActiveRecord: 0.0ms | Allocations: 20024)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/admins_controller.rb:35:in `user_params'
app/controllers/admins_controller.rb:16:in `login'
Started POST "/admin/login" for 127.0.0.1 at 2023-08-20 14:49:57 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Error occurred while parsing request parameters.
Contents:

{
  "username": "admin", 
  "email": "admin@gmail.com",
  "phone_number": 0742453610,
  "password": "admin",
  "password_confirmation":"admin" 
}
Processing by AdminsController#login as */*
Completed 400 Bad Request in 16ms (ActiveRecord: 0.0ms | Allocations: 20023)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/admins_controller.rb:35:in `user_params'
app/controllers/admins_controller.rb:16:in `login'
Started POST "/admin/login" for 127.0.0.1 at 2023-08-20 14:51:25 +0300
Processing by AdminsController#login as */*
  Parameters: {"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>{"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610"}}
[31mUnpermitted parameter: :admin. Context: { controller: AdminsController, action: login, request: #<ActionDispatch::Request:0x00007f2500018660>, params: {"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"admins", "action"=>"login", "admin"=>{"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610"}} }[0m
[31mUnpermitted parameter: :admin. Context: { controller: AdminsController, action: login, request: #<ActionDispatch::Request:0x00007f2500018660>, params: {"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"admins", "action"=>"login", "admin"=>{"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610"}} }[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE (username = 'admin') ORDER BY "admins"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/admins_controller.rb:16:in `login'
[31mUnpermitted parameter: :admin. Context: { controller: AdminsController, action: login, request: #<ActionDispatch::Request:0x00007f2500018660>, params: {"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"admins", "action"=>"login", "admin"=>{"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610"}} }[0m
Completed 500 Internal Server Error in 328ms (ActiveRecord: 1.0ms | Allocations: 20691)


  
NameError (undefined local variable or method `image' for #<AdminsController:0x00000000009498>):
  
app/controllers/admins_controller.rb:24:in `login'
Started POST "/admin/login" for 127.0.0.1 at 2023-08-20 14:51:46 +0300
Processing by AdminsController#login as */*
  Parameters: {"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>{"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610"}}
[31mUnpermitted parameter: :admin. Context: { controller: AdminsController, action: login, request: #<ActionDispatch::Request:0x00007f25000a89b8>, params: {"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"admins", "action"=>"login", "admin"=>{"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610"}} }[0m
[31mUnpermitted parameter: :admin. Context: { controller: AdminsController, action: login, request: #<ActionDispatch::Request:0x00007f25000a89b8>, params: {"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"admins", "action"=>"login", "admin"=>{"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610"}} }[0m
  [1m[36mAdmin Load (0.3ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE (username = 'admin') ORDER BY "admins"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/admins_controller.rb:16:in `login'
[31mUnpermitted parameter: :admin. Context: { controller: AdminsController, action: login, request: #<ActionDispatch::Request:0x00007f25000a89b8>, params: {"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"admins", "action"=>"login", "admin"=>{"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610"}} }[0m
Completed 200 OK in 435ms (Views: 0.3ms | ActiveRecord: 1.8ms | Allocations: 3101)


Started POST "/admin/login" for 127.0.0.1 at 2023-08-20 14:52:56 +0300
Processing by AdminsController#login as */*
  Parameters: {"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>{"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610"}}
[31mUnpermitted parameter: :admin. Context: { controller: AdminsController, action: login, request: #<ActionDispatch::Request:0x00007f25090120b8>, params: {"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"admins", "action"=>"login", "admin"=>{"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610"}} }[0m
[31mUnpermitted parameter: :admin. Context: { controller: AdminsController, action: login, request: #<ActionDispatch::Request:0x00007f25090120b8>, params: {"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"admins", "action"=>"login", "admin"=>{"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610"}} }[0m
  [1m[36mAdmin Load (0.2ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE (username = 'admin') ORDER BY "admins"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/admins_controller.rb:16:in `login'
[31mUnpermitted parameter: :admin. Context: { controller: AdminsController, action: login, request: #<ActionDispatch::Request:0x00007f25090120b8>, params: {"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"admins", "action"=>"login", "admin"=>{"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610"}} }[0m
Completed 200 OK in 293ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1333)


Started POST "/admin/login" for 127.0.0.1 at 2023-08-20 14:52:58 +0300
Processing by AdminsController#login as */*
  Parameters: {"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>{"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610"}}
[31mUnpermitted parameter: :admin. Context: { controller: AdminsController, action: login, request: #<ActionDispatch::Request:0x00007f2508fb1ba0>, params: {"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"admins", "action"=>"login", "admin"=>{"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610"}} }[0m
[31mUnpermitted parameter: :admin. Context: { controller: AdminsController, action: login, request: #<ActionDispatch::Request:0x00007f2508fb1ba0>, params: {"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"admins", "action"=>"login", "admin"=>{"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610"}} }[0m
  [1m[36mAdmin Load (0.3ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE (username = 'admin') ORDER BY "admins"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/admins_controller.rb:16:in `login'
[31mUnpermitted parameter: :admin. Context: { controller: AdminsController, action: login, request: #<ActionDispatch::Request:0x00007f2508fb1ba0>, params: {"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"admins", "action"=>"login", "admin"=>{"username"=>"admin", "email"=>"admin@gmail.com", "phone_number"=>"0742453610"}} }[0m
Completed 200 OK in 292ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1329)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateMpesas (20230820211215)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230820211215"]]
  [1m[36mTRANSACTION (17.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateAccessTokens (20230820211245)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230820211245"]]
  [1m[36mTRANSACTION (22.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked host: 7808-197-232-61-209.ngrok-free.app
Started GET "/" for 197.232.61.209 at 2023-08-21 00:28:39 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /usr/share/rvm/gems/ruby-2.7.4/gems/railties-7.0.7/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/share/rvm/gems/ruby-2.7.4/gems/railties-7.0.7/lib/rails/templates/rails/welcome/index.html.erb (Duration: 2.5ms | Allocations: 660)
Completed 200 OK in 20ms (Views: 5.3ms | ActiveRecord: 0.0ms | Allocations: 6458)


Started GET "/" for 197.232.61.209 at 2023-08-21 00:30:53 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /usr/share/rvm/gems/ruby-2.7.4/gems/railties-7.0.7/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/share/rvm/gems/ruby-2.7.4/gems/railties-7.0.7/lib/rails/templates/rails/welcome/index.html.erb (Duration: 1.3ms | Allocations: 449)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms | Allocations: 1210)


Started GET "/" for 197.232.61.209 at 2023-08-21 00:30:55 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /usr/share/rvm/gems/ruby-2.7.4/gems/railties-7.0.7/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/share/rvm/gems/ruby-2.7.4/gems/railties-7.0.7/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.1ms | Allocations: 16)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 198)


Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 00:46:02 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumeber"=>"254704412004", "amount"=>"1", "mpesa"=>{"amount"=>"1"}}
Completed 500 Internal Server Error in 30ms (ActiveRecord: 0.4ms | Allocations: 22082)


  
NameError (undefined local variable or method `get_access_token' for #<MpesasController:0x00000000020e90>):
  
app/controllers/mpesas_controller.rb:25:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 00:48:31 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumeber"=>"254704412004", "amount"=>"1", "mpesa"=>{"amount"=>"1"}}
Completed 500 Internal Server Error in 38ms (ActiveRecord: 0.5ms | Allocations: 22084)


  
NameError (undefined local variable or method `get_access_token' for #<MpesasController:0x00000000020e90>):
  
app/controllers/mpesas_controller.rb:25:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 00:52:12 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumeber"=>"254704412004", "amount"=>"1", "mpesa"=>{"amount"=>"1"}}
  [1m[36mAccessToken Load (0.4ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mAccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-20 21:52:13.943012"], ["updated_at", "2023-08-20 21:52:13.943012"]]
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mTRANSACTION (13.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
Completed 500 Internal Server Error in 1768ms (ActiveRecord: 16.4ms | Allocations: 41747)


  
RuntimeError (Invalid response {
                    "requestId":"79049-30216643-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:45:in `block in stkpush'
app/controllers/mpesas_controller.rb:36:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 00:54:37 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumeber"=>"254704412004", "amount"=>"1", "mpesa"=>{"amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mAccessToken Destroy (0.7ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mAccessToken Create (1.0ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-20 21:54:38.997105"], ["updated_at", "2023-08-20 21:54:38.997105"]]
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
Completed 500 Internal Server Error in 1843ms (ActiveRecord: 27.0ms | Allocations: 42606)


  
RuntimeError (Invalid response {
                    "requestId":"28699-85303646-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:45:in `block in stkpush'
app/controllers/mpesas_controller.rb:36:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:03:03 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumeber"=>"254704412004", "amount"=>"1", "mpesa"=>{"amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mAccessToken Destroy (0.3ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (14.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mAccessToken Create (0.3ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-20 22:03:04.361814"], ["updated_at", "2023-08-20 22:03:04.361814"]]
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
Completed 500 Internal Server Error in 2252ms (ActiveRecord: 25.2ms | Allocations: 42548)


  
RuntimeError (Invalid response {
                    "requestId":"29600-205705721-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:45:in `block in stkpush'
app/controllers/mpesas_controller.rb:36:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:03:11 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (18.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mAccessToken Create (0.7ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-20 22:03:12.307128"], ["updated_at", "2023-08-20 22:03:12.307128"]]
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
Completed 500 Internal Server Error in 1607ms (ActiveRecord: 30.6ms | Allocations: 5756)


  
RuntimeError (Invalid response {
                    "requestId":"23521-153943139-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:45:in `block in stkpush'
app/controllers/mpesas_controller.rb:36:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:10:02 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mAccessToken Destroy (0.6ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 4]]
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-20 22:10:03.853376"], ["updated_at", "2023-08-20 22:10:03.853376"]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (13.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
Completed 500 Internal Server Error in 1972ms (ActiveRecord: 29.8ms | Allocations: 42612)


  
RuntimeError (Invalid response {
                    "requestId":"32193-86702125-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:91:in `block in stkpush'
app/controllers/mpesas_controller.rb:82:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:10:57 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mAccessToken Destroy (0.3ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 5]]
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-20 22:10:58.980266"], ["updated_at", "2023-08-20 22:10:58.980266"]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
Completed 500 Internal Server Error in 1736ms (ActiveRecord: 26.0ms | Allocations: 7181)


  
RuntimeError (Invalid response {
                    "requestId":"29607-205715201-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:91:in `block in stkpush'
app/controllers/mpesas_controller.rb:82:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:14:15 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mAccessToken Destroy (0.3ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 6]]
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (16.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-20 22:14:16.331513"], ["updated_at", "2023-08-20 22:14:16.331513"]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
Completed 500 Internal Server Error in 1854ms (ActiveRecord: 32.0ms | Allocations: 7183)


  
RuntimeError (Invalid response {
                    "requestId":"93409-13240193-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:91:in `block in stkpush'
app/controllers/mpesas_controller.rb:82:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:19:15 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mAccessToken Destroy (0.3ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 7]]
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-20 22:19:17.076366"], ["updated_at", "2023-08-20 22:19:17.076366"]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (77.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
Completed 500 Internal Server Error in 2020ms (ActiveRecord: 92.9ms | Allocations: 7170)


  
RuntimeError (Invalid response {
                    "requestId":"28678-85329905-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:91:in `block in stkpush'
app/controllers/mpesas_controller.rb:82:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:20:57 +0300
Processing by MpesasController#stkpush as */*
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mAccessToken Destroy (0.7ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 8]]
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-20 22:20:58.627765"], ["updated_at", "2023-08-20 22:20:58.627765"]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
Completed 500 Internal Server Error in 1798ms (ActiveRecord: 25.0ms | Allocations: 5741)


  
RuntimeError (Invalid response {
                    "requestId":"28694-85331701-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:91:in `block in stkpush'
app/controllers/mpesas_controller.rb:82:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:28:13 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Destroy (0.5ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 9]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-20 22:28:15.494942"], ["updated_at", "2023-08-20 22:28:15.494942"]]
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
Completed 500 Internal Server Error in 2861ms (ActiveRecord: 25.0ms | Allocations: 42608)


  
RuntimeError (Invalid response {
                    "requestId":"24715-55631770-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:91:in `block in stkpush'
app/controllers/mpesas_controller.rb:82:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:37:54 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mAccessToken Create (0.6ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-20 22:37:55.582166"], ["updated_at", "2023-08-20 22:37:55.582166"]]
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mTRANSACTION (12.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
Completed 500 Internal Server Error in 1634ms (ActiveRecord: 15.3ms | Allocations: 40267)


  
RuntimeError (Invalid response {
                    "requestId":"11441-71844593-2",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:91:in `block in stkpush'
app/controllers/mpesas_controller.rb:82:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:38:32 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mAccessToken Create (0.8ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-20 22:38:33.846099"], ["updated_at", "2023-08-20 22:38:33.846099"]]
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mTRANSACTION (13.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
Completed 500 Internal Server Error in 1806ms (ActiveRecord: 16.9ms | Allocations: 5383)


  
RuntimeError (Invalid response {
                    "requestId":"27250-26899879-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:91:in `block in stkpush'
app/controllers/mpesas_controller.rb:82:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:39:27 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:190:in `get_access_token'
  [1m[36mAccessToken Create (0.6ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-20 22:39:28.805111"], ["updated_at", "2023-08-20 22:39:28.805111"]]
  ↳ app/controllers/mpesas_controller.rb:190:in `get_access_token'
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:190:in `get_access_token'
Completed 500 Internal Server Error in 1913ms (ActiveRecord: 16.1ms | Allocations: 5357)


  
RuntimeError (Invalid response {
                    "requestId":"24722-55644853-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:91:in `block in stkpush'
app/controllers/mpesas_controller.rb:82:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:40:45 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:192:in `get_access_token'
  [1m[36mAccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-20 22:40:47.042963"], ["updated_at", "2023-08-20 22:40:47.042963"]]
  ↳ app/controllers/mpesas_controller.rb:192:in `get_access_token'
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:192:in `get_access_token'
Completed 500 Internal Server Error in 1830ms (ActiveRecord: 13.9ms | Allocations: 40275)


  
RuntimeError (Invalid response {
                    "requestId":"28684-85352549-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:91:in `block in stkpush'
app/controllers/mpesas_controller.rb:82:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:42:22 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
Completed 500 Internal Server Error in 1019ms (ActiveRecord: 0.8ms | Allocations: 23825)


  
NoMethodError (undefined method `access_token' for "mZQWAK73KRGu8G1j6qQD8jLrL0Sr":String):
  
app/controllers/mpesas_controller.rb:192:in `get_access_token'
app/controllers/mpesas_controller.rb:74:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:44:22 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mAccessToken Create (1.8ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-20 22:44:24.104637"], ["updated_at", "2023-08-20 22:44:24.104637"]]
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mTRANSACTION (15.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
Completed 500 Internal Server Error in 1393ms (ActiveRecord: 19.3ms | Allocations: 40327)


  
NoMethodError (undefined method `access_token' for "zU6TQBWRSIofxx4yeg9hDRvCVKhm":String):
  
app/controllers/mpesas_controller.rb:190:in `get_access_token'
app/controllers/mpesas_controller.rb:74:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:44:59 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
Completed 500 Internal Server Error in 981ms (ActiveRecord: 0.4ms | Allocations: 23769)


  
NoMethodError (undefined method `access_token' for <RestClient::Response 200 "{\n         ...">:RestClient::Response):
  
app/controllers/mpesas_controller.rb:179:in `get_access_token'
app/controllers/mpesas_controller.rb:74:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:46:52 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:123: syntax error, unexpected local variable or method, expecting `when'
            puts "#response #{response}"
            ^~~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:124: syntax error, unexpected `when', expecting `end'
        when 500
        ^~~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:126: syntax error, unexpected `when', expecting `end'
        when 400
        ^~~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:128: syntax error, unexpected `when', expecting `end'
        when 200
        ^~~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:130: else without rescue is useless
        else
        ^~~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:135: syntax error, unexpected `end', expecting end-of-input
    end
    ^~~
):
  
app/controllers/mpesas_controller.rb:123: syntax error, unexpected local variable or method, expecting `when'
app/controllers/mpesas_controller.rb:124: syntax error, unexpected `when', expecting `end'
app/controllers/mpesas_controller.rb:126: syntax error, unexpected `when', expecting `end'
app/controllers/mpesas_controller.rb:128: syntax error, unexpected `when', expecting `end'
app/controllers/mpesas_controller.rb:130: else without rescue is useless
app/controllers/mpesas_controller.rb:135: syntax error, unexpected `end', expecting end-of-input
app/controllers/mpesas_controller.rb:123: syntax error, unexpected local variable or method, expecting `when'
app/controllers/mpesas_controller.rb:124: syntax error, unexpected `when', expecting `end'
app/controllers/mpesas_controller.rb:126: syntax error, unexpected `when', expecting `end'
app/controllers/mpesas_controller.rb:128: syntax error, unexpected `when', expecting `end'
app/controllers/mpesas_controller.rb:130: else without rescue is useless
app/controllers/mpesas_controller.rb:135: syntax error, unexpected `end', expecting end-of-input
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:47:31 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 10]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (30.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 11]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (14.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Destroy (0.5ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 12]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 13]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 14]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Destroy (0.3ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 15]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (16.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mAccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-20 22:47:32.668060"], ["updated_at", "2023-08-20 22:47:32.668060"]]
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mTRANSACTION (19.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
Completed 500 Internal Server Error in 1556ms (ActiveRecord: 122.9ms | Allocations: 28128)


  
RuntimeError (Invalid response {
                    "requestId":"11434-71855979-2",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:91:in `block in stkpush'
app/controllers/mpesas_controller.rb:82:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:48:31 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
Completed 500 Internal Server Error in 61ms (ActiveRecord: 0.5ms | Allocations: 22121)


  
NameError (undefined local variable or method `generate_access_token' for #<MpesasController:0x00000000020f30>
Did you mean?  get_access_token):
  
app/controllers/mpesas_controller.rb:178:in `get_access_token'
app/controllers/mpesas_controller.rb:74:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:49:01 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 16]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mAccessToken Create (1.1ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-20 22:49:03.733272"], ["updated_at", "2023-08-20 22:49:03.733272"]]
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mTRANSACTION (13.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
Completed 500 Internal Server Error in 2773ms (ActiveRecord: 31.5ms | Allocations: 43561)


  
RuntimeError (Invalid response {
                    "requestId":"32195-86744856-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:91:in `block in stkpush'
app/controllers/mpesas_controller.rb:82:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:49:53 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Destroy (1.0ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 17]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mAccessToken Create (7.8ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-20 22:49:55.483885"], ["updated_at", "2023-08-20 22:49:55.483885"]]
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
Completed 500 Internal Server Error in 2376ms (ActiveRecord: 28.5ms | Allocations: 8181)


  
RuntimeError (Invalid response {
                    "requestId":"32177-86745797-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:91:in `block in stkpush'
app/controllers/mpesas_controller.rb:82:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:50:33 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-20 22:50:35.640674"], ["updated_at", "2023-08-20 22:50:35.640674"]]
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
Completed 500 Internal Server Error in 2493ms (ActiveRecord: 11.9ms | Allocations: 6339)


  
RuntimeError (Invalid response {
                    "requestId":"26307-34163362-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:91:in `block in stkpush'
app/controllers/mpesas_controller.rb:82:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:51:19 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 18]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (13.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 19]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-20 22:51:21.216545"], ["updated_at", "2023-08-20 22:51:21.216545"]]
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mTRANSACTION (13.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
Completed 500 Internal Server Error in 2477ms (ActiveRecord: 40.4ms | Allocations: 9465)


  
RuntimeError (Invalid response {
                    "requestId":"27266-26914903-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:91:in `block in stkpush'
app/controllers/mpesas_controller.rb:82:in `stkpush'
Started POST "/stkpush" for 197.232.61.209 at 2023-08-21 01:52:23 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.4ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Destroy (0.8ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 20]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mAccessToken Create (0.3ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-20 22:52:24.906254"], ["updated_at", "2023-08-20 22:52:24.906254"]]
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
Completed 500 Internal Server Error in 1781ms (ActiveRecord: 26.3ms | Allocations: 42604)


  
RuntimeError (Invalid response {
                    "requestId":"79057-30286167-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:91:in `block in stkpush'
app/controllers/mpesas_controller.rb:82:in `stkpush'
Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 12:18:26 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mAccessToken Destroy (1.2ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 21]]
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 09:18:27.739556"], ["updated_at", "2023-08-21 09:18:27.739556"]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
Completed 500 Internal Server Error in 2547ms (ActiveRecord: 19.6ms | Allocations: 42612)


  
RuntimeError (Invalid response {
                    "requestId":"26319-35164512-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:91:in `block in stkpush'
app/controllers/mpesas_controller.rb:82:in `stkpush'
Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 12:20:44 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 22]]
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 09:20:47.526249"], ["updated_at", "2023-08-21 09:20:47.526249"]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
Completed 500 Internal Server Error in 3978ms (ActiveRecord: 18.1ms | Allocations: 5714)


  
RuntimeError (Invalid response {
                    "requestId":"8349-142498729-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:91:in `block in stkpush'
app/controllers/mpesas_controller.rb:82:in `stkpush'
Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 12:31:40 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.1ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mAccessToken Destroy (0.3ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 23]]
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:187:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Create (0.3ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 09:31:41.831125"], ["updated_at", "2023-08-21 09:31:41.831125"]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
Completed 500 Internal Server Error in 1935ms (ActiveRecord: 15.5ms | Allocations: 5843)


  
RuntimeError (Invalid response {
                    "requestId":"8351-142535768-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:91:in `block in stkpush'
app/controllers/mpesas_controller.rb:82:in `stkpush'
Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 12:34:54 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 24]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 09:34:55.269990"], ["updated_at", "2023-08-21 09:34:55.269990"]]
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
Completed 500 Internal Server Error in 1140ms (ActiveRecord: 17.0ms | Allocations: 6065)


  
URI::InvalidURIError (bad URI(is not URI?): "http:// https://sandbox.safaricom.co.ke/mpesa/stkpush/v1/processrequest"):
  
app/controllers/mpesas_controller.rb:78:in `new'
app/controllers/mpesas_controller.rb:78:in `stkpush'
Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 12:35:28 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Destroy (0.5ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 25]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 09:35:29.200274"], ["updated_at", "2023-08-21 09:35:29.200274"]]
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
Completed 500 Internal Server Error in 1033ms (ActiveRecord: 18.4ms | Allocations: 6066)


  
URI::InvalidURIError (bad URI(is not URI?): "http:// https://sandbox.safaricom.co.ke/mpesa/stkpush/v1/processrequest"):
  
app/controllers/mpesas_controller.rb:78:in `new'
app/controllers/mpesas_controller.rb:78:in `stkpush'
Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 12:35:48 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.4ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Destroy (1.1ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 26]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mAccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 09:35:50.049886"], ["updated_at", "2023-08-21 09:35:50.049886"]]
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
Completed 500 Internal Server Error in 2133ms (ActiveRecord: 19.8ms | Allocations: 7127)


  
RuntimeError (Invalid response {
                    "requestId":"8341-142549423-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:92:in `block in stkpush'
app/controllers/mpesas_controller.rb:83:in `stkpush'
Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 12:39:32 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:224: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/mpesas_controller.rb:224: syntax error, unexpected `end', expecting end-of-input
app/controllers/mpesas_controller.rb:224: syntax error, unexpected `end', expecting end-of-input
Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 12:40:06 +0300
  
NameError (undefined local variable or method `​' for MpesasController:Class):
  
app/controllers/mpesas_controller.rb:32:in `<class:MpesasController>'
app/controllers/mpesas_controller.rb:1:in `<main>'
Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 12:40:35 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
Completed 500 Internal Server Error in 41ms (ActiveRecord: 1.1ms | Allocations: 21148)


  
NameError (undefined local variable or method `​' for #<MpesasController:0x000000000299f0>):
  
app/controllers/mpesas_controller.rb:7:in `stkpush'
Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 12:43:56 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 27]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 09:43:57.690347"], ["updated_at", "2023-08-21 09:43:57.690347"]]
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
Completed 200 OK in 1529ms (Views: 0.8ms | ActiveRecord: 17.7ms | Allocations: 22656)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 12:44:20 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Destroy (0.3ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 28]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mAccessToken Create (0.6ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 09:44:21.844726"], ["updated_at", "2023-08-21 09:44:21.844726"]]
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
Completed 200 OK in 1452ms (Views: 1.0ms | ActiveRecord: 21.0ms | Allocations: 7151)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 12:48:25 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Destroy (0.6ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 29]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mAccessToken Create (0.3ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 09:48:26.174107"], ["updated_at", "2023-08-21 09:48:26.174107"]]
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
Completed 200 OK in 1860ms (Views: 0.5ms | ActiveRecord: 19.8ms | Allocations: 7146)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 12:52:27 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Destroy (0.6ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 30]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mAccessToken Create (0.3ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 09:52:29.746800"], ["updated_at", "2023-08-21 09:52:29.746800"]]
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
Completed 200 OK in 3067ms (Views: 0.2ms | ActiveRecord: 17.6ms | Allocations: 7200)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 12:55:24 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mAccessToken Destroy (1.3ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 31]]
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:188:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mAccessToken Create (0.7ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 09:55:25.907624"], ["updated_at", "2023-08-21 09:55:25.907624"]]
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:189:in `get_access_token'
Completed 200 OK in 1974ms (Views: 0.6ms | ActiveRecord: 19.6ms | Allocations: 7077)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 12:56:22 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mAccessToken Destroy (0.5ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 32]]
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 09:56:23.193591"], ["updated_at", "2023-08-21 09:56:23.193591"]]
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
Completed 200 OK in 1992ms (Views: 0.3ms | ActiveRecord: 16.4ms | Allocations: 7133)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 12:57:33 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mAccessToken Destroy (0.3ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 33]]
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mAccessToken Create (0.3ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 09:57:35.239043"], ["updated_at", "2023-08-21 09:57:35.239043"]]
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
Completed 200 OK in 1789ms (Views: 0.6ms | ActiveRecord: 16.4ms | Allocations: 7095)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:02:32 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mAccessToken Destroy (0.8ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 34]]
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mAccessToken Create (0.3ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:02:33.631994"], ["updated_at", "2023-08-21 10:02:33.631994"]]
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
Completed 200 OK in 2297ms (Views: 0.3ms | ActiveRecord: 17.9ms | Allocations: 7089)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:02:58 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.4ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 35]]
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:02:59.793578"], ["updated_at", "2023-08-21 10:02:59.793578"]]
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
Completed 200 OK in 1617ms (Views: 0.3ms | ActiveRecord: 17.6ms | Allocations: 42654)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:07:54 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mAccessToken Destroy (1.0ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 36]]
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mAccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:07:55.182524"], ["updated_at", "2023-08-21 10:07:55.182524"]]
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
Completed 200 OK in 1986ms (Views: 0.3ms | ActiveRecord: 21.0ms | Allocations: 7201)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:13:15 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.4ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 37]]
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mAccessToken Create (0.3ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:13:16.513492"], ["updated_at", "2023-08-21 10:13:16.513492"]]
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
Completed 200 OK in 2677ms (Views: 0.5ms | ActiveRecord: 14.8ms | Allocations: 6782)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:14:05 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mAccessToken Destroy (0.6ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 38]]
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:14:06.993938"], ["updated_at", "2023-08-21 10:14:06.993938"]]
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
Completed 200 OK in 1942ms (Views: 0.4ms | ActiveRecord: 18.0ms | Allocations: 5640)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:14:55 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mAccessToken Destroy (0.3ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 39]]
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mAccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:14:56.460851"], ["updated_at", "2023-08-21 10:14:56.460851"]]
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mTRANSACTION (16.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
Completed 200 OK in 1985ms (Views: 0.4ms | ActiveRecord: 28.4ms | Allocations: 7104)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:17:05 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.4ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mAccessToken Destroy (0.6ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 40]]
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mAccessToken Create (0.3ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:17:07.539544"], ["updated_at", "2023-08-21 10:17:07.539544"]]
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
Completed 200 OK in 2694ms (Views: 0.3ms | ActiveRecord: 19.0ms | Allocations: 7123)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:19:02 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mAccessToken Destroy (0.5ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 41]]
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:19:04.066372"], ["updated_at", "2023-08-21 10:19:04.066372"]]
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
Completed 200 OK in 2852ms (Views: 0.5ms | ActiveRecord: 17.8ms | Allocations: 7113)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:19:13 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mAccessToken Destroy (0.7ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 42]]
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:19:14.201325"], ["updated_at", "2023-08-21 10:19:14.201325"]]
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
Completed 200 OK in 1425ms (Views: 0.4ms | ActiveRecord: 16.1ms | Allocations: 5675)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:23:21 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 43]]
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:23:22.781992"], ["updated_at", "2023-08-21 10:23:22.781992"]]
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
Completed 200 OK in 1629ms (Views: 0.3ms | ActiveRecord: 17.8ms | Allocations: 42581)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:24:13 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 44]]
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:24:15.186514"], ["updated_at", "2023-08-21 10:24:15.186514"]]
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:142:in `get_access_token'
Completed 200 OK in 2293ms (Views: 0.3ms | ActiveRecord: 17.5ms | Allocations: 7127)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:24:48 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:140:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:140:in `get_access_token'
  [1m[36mAccessToken Destroy (1.3ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 45]]
  ↳ app/controllers/mpesas_controller.rb:140:in `get_access_token'
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:140:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mAccessToken Create (0.3ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:24:49.823252"], ["updated_at", "2023-08-21 10:24:49.823252"]]
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:141:in `get_access_token'
Completed 200 OK in 1611ms (Views: 0.3ms | ActiveRecord: 25.3ms | Allocations: 7207)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:31:42 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:126:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:126:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 46]]
  ↳ app/controllers/mpesas_controller.rb:126:in `get_access_token'
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:126:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:127:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:31:43.394397"], ["updated_at", "2023-08-21 10:31:43.394397"]]
  ↳ app/controllers/mpesas_controller.rb:127:in `get_access_token'
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:127:in `get_access_token'
Completed 200 OK in 3998ms (Views: 0.3ms | ActiveRecord: 16.5ms | Allocations: 6796)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:35:53 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:113:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:113:in `get_access_token'
  [1m[36mAccessToken Destroy (0.3ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 47]]
  ↳ app/controllers/mpesas_controller.rb:113:in `get_access_token'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:113:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:114:in `get_access_token'
  [1m[36mAccessToken Create (0.7ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:35:54.282445"], ["updated_at", "2023-08-21 10:35:54.282445"]]
  ↳ app/controllers/mpesas_controller.rb:114:in `get_access_token'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:114:in `get_access_token'
Completed 200 OK in 2071ms (Views: 1.2ms | ActiveRecord: 18.0ms | Allocations: 7131)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:40:12 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.6ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:113:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:113:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 48]]
  ↳ app/controllers/mpesas_controller.rb:113:in `get_access_token'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:113:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:114:in `get_access_token'
  [1m[36mAccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:40:13.977081"], ["updated_at", "2023-08-21 10:40:13.977081"]]
  ↳ app/controllers/mpesas_controller.rb:114:in `get_access_token'
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:114:in `get_access_token'
Completed 200 OK in 2586ms (Views: 0.8ms | ActiveRecord: 17.6ms | Allocations: 7096)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:40:24 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:113:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:113:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 49]]
  ↳ app/controllers/mpesas_controller.rb:113:in `get_access_token'
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:113:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:114:in `get_access_token'
  [1m[36mAccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:40:27.078227"], ["updated_at", "2023-08-21 10:40:27.078227"]]
  ↳ app/controllers/mpesas_controller.rb:114:in `get_access_token'
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:114:in `get_access_token'
Completed 200 OK in 2962ms (Views: 0.9ms | ActiveRecord: 15.2ms | Allocations: 5718)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:40:46 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:114:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:114:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 50]]
  ↳ app/controllers/mpesas_controller.rb:114:in `get_access_token'
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:114:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mAccessToken Create (0.8ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:40:47.676980"], ["updated_at", "2023-08-21 10:40:47.676980"]]
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
Completed 200 OK in 2927ms (Views: 0.5ms | ActiveRecord: 20.0ms | Allocations: 7193)


Started POST "/stkquery" for 197.232.61.237 at 2023-08-21 13:41:25 +0300
Processing by MpesasController#stkquery as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:114:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:114:in `get_access_token'
  [1m[36mAccessToken Destroy (1.6ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 51]]
  ↳ app/controllers/mpesas_controller.rb:114:in `get_access_token'
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:114:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mAccessToken Create (1.9ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:41:26.283443"], ["updated_at", "2023-08-21 10:41:26.283443"]]
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
Completed 200 OK in 1716ms (Views: 0.3ms | ActiveRecord: 28.0ms | Allocations: 5544)


Started POST "/stkquery" for 197.232.61.237 at 2023-08-21 13:41:53 +0300
Processing by MpesasController#stkquery as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mAccessToken Destroy (0.3ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 52]]
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mAccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:41:54.947235"], ["updated_at", "2023-08-21 10:41:54.947235"]]
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
Completed 200 OK in 2022ms (Views: 0.6ms | ActiveRecord: 19.5ms | Allocations: 7049)


Started POST "/stkquery" for 197.232.61.237 at 2023-08-21 13:42:10 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:50: syntax error, unexpected '\n', expecting =>
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:123: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/mpesas_controller.rb:50: syntax error, unexpected '\n', expecting =>
app/controllers/mpesas_controller.rb:123: syntax error, unexpected end-of-input, expecting `end'
app/controllers/mpesas_controller.rb:50: syntax error, unexpected '\n', expecting =>
app/controllers/mpesas_controller.rb:123: syntax error, unexpected end-of-input, expecting `end'
Started POST "/stkquery" for 197.232.61.237 at 2023-08-21 13:42:35 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:50: syntax error, unexpected ',', expecting =>
        render json: {response, business_short_code},
                              ^
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:123: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/mpesas_controller.rb:50: syntax error, unexpected ',', expecting =>
app/controllers/mpesas_controller.rb:123: syntax error, unexpected end-of-input, expecting `end'
app/controllers/mpesas_controller.rb:50: syntax error, unexpected ',', expecting =>
app/controllers/mpesas_controller.rb:123: syntax error, unexpected end-of-input, expecting `end'
Started POST "/stkquery" for 197.232.61.237 at 2023-08-21 13:42:52 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:51: syntax error, unexpected `end'
    end
    ^~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:123: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/mpesas_controller.rb:51: syntax error, unexpected `end'
app/controllers/mpesas_controller.rb:123: syntax error, unexpected end-of-input, expecting `end'
app/controllers/mpesas_controller.rb:51: syntax error, unexpected `end'
app/controllers/mpesas_controller.rb:123: syntax error, unexpected end-of-input, expecting `end'
Started POST "/stkquery" for 197.232.61.237 at 2023-08-21 13:43:10 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:52: syntax error, unexpected `end'
    end
    ^~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:124: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/mpesas_controller.rb:52: syntax error, unexpected `end'
app/controllers/mpesas_controller.rb:124: syntax error, unexpected end-of-input, expecting `end'
app/controllers/mpesas_controller.rb:52: syntax error, unexpected `end'
app/controllers/mpesas_controller.rb:124: syntax error, unexpected end-of-input, expecting `end'
Started POST "/stkquery" for 197.232.61.237 at 2023-08-21 13:43:31 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:52: syntax error, unexpected `end'
    end
    ^~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:124: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/mpesas_controller.rb:52: syntax error, unexpected `end'
app/controllers/mpesas_controller.rb:124: syntax error, unexpected end-of-input, expecting `end'
app/controllers/mpesas_controller.rb:52: syntax error, unexpected `end'
app/controllers/mpesas_controller.rb:124: syntax error, unexpected end-of-input, expecting `end'
Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:43:54 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:52: syntax error, unexpected `end'
    end
    ^~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:124: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/mpesas_controller.rb:52: syntax error, unexpected `end'
app/controllers/mpesas_controller.rb:124: syntax error, unexpected end-of-input, expecting `end'
app/controllers/mpesas_controller.rb:52: syntax error, unexpected `end'
app/controllers/mpesas_controller.rb:124: syntax error, unexpected end-of-input, expecting `end'
Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:44:13 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:51: syntax error, unexpected `end'
    end
    ^~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:123: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/mpesas_controller.rb:51: syntax error, unexpected `end'
app/controllers/mpesas_controller.rb:123: syntax error, unexpected end-of-input, expecting `end'
app/controllers/mpesas_controller.rb:51: syntax error, unexpected `end'
app/controllers/mpesas_controller.rb:123: syntax error, unexpected end-of-input, expecting `end'
Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:44:29 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"+254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"+254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.4ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mAccessToken Destroy (1.5ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 53]]
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mAccessToken Create (0.7ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:44:31.138320"], ["updated_at", "2023-08-21 10:44:31.138320"]]
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
Completed 200 OK in 1961ms (Views: 0.5ms | ActiveRecord: 20.2ms | Allocations: 42605)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:44:46 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"+254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"+254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 54]]
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mTRANSACTION (15.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:44:46.890352"], ["updated_at", "2023-08-21 10:44:46.890352"]]
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
Completed 200 OK in 1667ms (Views: 0.2ms | ActiveRecord: 27.2ms | Allocations: 7100)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:44:56 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"+254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"+254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mAccessToken Destroy (0.7ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 55]]
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mAccessToken Create (0.6ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:44:57.480996"], ["updated_at", "2023-08-21 10:44:57.480996"]]
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
Completed 200 OK in 2039ms (Views: 0.2ms | ActiveRecord: 18.8ms | Allocations: 5665)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:45:55 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"+254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"+254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.4ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mAccessToken Destroy (1.1ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 56]]
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mAccessToken Create (0.3ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:45:57.154326"], ["updated_at", "2023-08-21 10:45:57.154326"]]
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
Completed 200 OK in 2099ms (Views: 0.3ms | ActiveRecord: 18.5ms | Allocations: 42552)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:47:40 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:51: syntax error, unexpected `end'
    end
    ^~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/mpesas_controller.rb:123: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/mpesas_controller.rb:51: syntax error, unexpected `end'
app/controllers/mpesas_controller.rb:123: syntax error, unexpected end-of-input, expecting `end'
app/controllers/mpesas_controller.rb:51: syntax error, unexpected `end'
app/controllers/mpesas_controller.rb:123: syntax error, unexpected end-of-input, expecting `end'
Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 13:47:51 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"+254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"+254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.4ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 57]]
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:115:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mAccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 10:47:52.747045"], ["updated_at", "2023-08-21 10:47:52.747045"]]
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
Completed 200 OK in 1782ms (Views: 0.4ms | ActiveRecord: 19.4ms | Allocations: 7138)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 14:16:26 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"+254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"+254704412004", "amount"=>"1"}}
Completed 500 Internal Server Error in 57ms (ActiveRecord: 0.5ms | Allocations: 21975)


  
NameError (undefined local variable or method `phone_number' for #<MpesasController:0x00000000020f08>):
  
app/controllers/mpesas_controller.rb:66:in `stkpush'
Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 14:17:06 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"+254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"+254704412004", "amount"=>"1"}}
Completed 500 Internal Server Error in 18ms (ActiveRecord: 1.1ms | Allocations: 2111)


  
NameError (undefined local variable or method `phone_number' for #<MpesasController:0x00000000025648>
Did you mean?  phoneNumber):
  
app/controllers/mpesas_controller.rb:67:in `stkpush'
Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 14:17:24 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"+254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"+254704412004", "amount"=>"1"}}
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.8ms | Allocations: 2109)


  
NameError (undefined local variable or method `phone_number' for #<MpesasController:0x00000000029b30>
Did you mean?  phoneNumber):
  
app/controllers/mpesas_controller.rb:67:in `stkpush'
Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 14:17:56 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"+254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"+254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:157:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:157:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 58]]
  ↳ app/controllers/mpesas_controller.rb:157:in `get_access_token'
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:157:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:158:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 11:17:59.302438"], ["updated_at", "2023-08-21 11:17:59.302438"]]
  ↳ app/controllers/mpesas_controller.rb:158:in `get_access_token'
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:158:in `get_access_token'
Completed 204 No Content in 3658ms (ActiveRecord: 21.5ms | Allocations: 22644)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 14:18:49 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"+254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"+254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:158:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:158:in `get_access_token'
  [1m[36mAccessToken Destroy (1.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 59]]
  ↳ app/controllers/mpesas_controller.rb:158:in `get_access_token'
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:158:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:159:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 11:18:51.090546"], ["updated_at", "2023-08-21 11:18:51.090546"]]
  ↳ app/controllers/mpesas_controller.rb:159:in `get_access_token'
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:159:in `get_access_token'
Completed 204 No Content in 1883ms (ActiveRecord: 21.0ms | Allocations: 7060)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 14:19:44 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"+254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"+254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.4ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:159:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:159:in `get_access_token'
  [1m[36mAccessToken Destroy (0.3ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 60]]
  ↳ app/controllers/mpesas_controller.rb:159:in `get_access_token'
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:159:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:160:in `get_access_token'
  [1m[36mAccessToken Create (0.3ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 11:19:45.485059"], ["updated_at", "2023-08-21 11:19:45.485059"]]
  ↳ app/controllers/mpesas_controller.rb:160:in `get_access_token'
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:160:in `get_access_token'
Completed 204 No Content in 2240ms (ActiveRecord: 18.4ms | Allocations: 7110)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 14:31:18 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"+254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"+254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:159:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:159:in `get_access_token'
  [1m[36mAccessToken Destroy (0.8ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 61]]
  ↳ app/controllers/mpesas_controller.rb:159:in `get_access_token'
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:159:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:160:in `get_access_token'
  [1m[36mAccessToken Create (0.8ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 11:31:19.257406"], ["updated_at", "2023-08-21 11:31:19.257406"]]
  ↳ app/controllers/mpesas_controller.rb:160:in `get_access_token'
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:160:in `get_access_token'
Completed 500 Internal Server Error in 2251ms (ActiveRecord: 18.1ms | Allocations: 6883)


  
RestClient::BadRequest (400 Bad Request):
  
app/controllers/mpesas_controller.rb:81:in `stkpush'
Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 14:31:56 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"+254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"+254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 62]]
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mAccessToken Create (0.3ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 11:31:59.063597"], ["updated_at", "2023-08-21 11:31:59.063597"]]
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
Completed 200 OK in 3515ms (Views: 0.4ms | ActiveRecord: 18.7ms | Allocations: 7175)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 14:35:26 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"+254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"+254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mAccessToken Destroy (0.3ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 63]]
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (15.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mAccessToken Create (0.8ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 11:35:27.366557"], ["updated_at", "2023-08-21 11:35:27.366557"]]
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
Completed 200 OK in 1752ms (Views: 0.4ms | ActiveRecord: 26.7ms | Allocations: 7167)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 14:35:51 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"+254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"+254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 64]]
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mAccessToken Create (0.7ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 11:35:52.607365"], ["updated_at", "2023-08-21 11:35:52.607365"]]
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
Completed 500 Internal Server Error in 3482ms (ActiveRecord: 20.1ms | Allocations: 7089)


  
RuntimeError (Invalid response {
                    "requestId":"24714-57099795-1",
                    "errorCode": "404.001.03",
                    "errorMessage": "Invalid Access Token"
                }
             received.):
  
app/controllers/mpesas_controller.rb:46:in `block in stkpush'
app/controllers/mpesas_controller.rb:37:in `stkpush'
Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 14:36:17 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"+254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"+254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 65]]
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 11:36:18.829662"], ["updated_at", "2023-08-21 11:36:18.829662"]]
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
Completed 200 OK in 1881ms (Views: 0.3ms | ActiveRecord: 18.2ms | Allocations: 7124)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 14:42:39 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"+254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"+254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mAccessToken Destroy (0.5ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 66]]
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mAccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 11:42:40.648692"], ["updated_at", "2023-08-21 11:42:40.648692"]]
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
Completed 200 OK in 2393ms (Views: 0.7ms | ActiveRecord: 16.3ms | Allocations: 6757)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 14:42:52 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"+254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"+254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.4ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mAccessToken Destroy (1.1ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 67]]
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mAccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 11:42:53.448105"], ["updated_at", "2023-08-21 11:42:53.448105"]]
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
Completed 200 OK in 1944ms (Views: 0.5ms | ActiveRecord: 17.9ms | Allocations: 7119)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 14:44:03 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"+254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"+254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.3ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mAccessToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 68]]
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 11:44:04.306426"], ["updated_at", "2023-08-21 11:44:04.306426"]]
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
Completed 200 OK in 1866ms (Views: 0.3ms | ActiveRecord: 18.8ms | Allocations: 7052)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 14:48:21 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"+254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"+254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mAccessToken Destroy (0.6ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 69]]
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mAccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 11:48:23.183174"], ["updated_at", "2023-08-21 11:48:23.183174"]]
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
Completed 200 OK in 2906ms (Views: 0.5ms | ActiveRecord: 20.0ms | Allocations: 7064)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 14:48:27 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.7ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mAccessToken Destroy (0.6ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 70]]
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 11:48:28.316043"], ["updated_at", "2023-08-21 11:48:28.316043"]]
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
Completed 200 OK in 1630ms (Views: 0.4ms | ActiveRecord: 17.1ms | Allocations: 5670)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 14:49:13 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.4ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mAccessToken Destroy (0.3ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 71]]
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mAccessToken Create (0.3ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 11:49:14.381097"], ["updated_at", "2023-08-21 11:49:14.381097"]]
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
Completed 200 OK in 1956ms (Views: 0.3ms | ActiveRecord: 20.0ms | Allocations: 7119)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 14:55:31 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.5ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mAccessToken Destroy (0.5ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 72]]
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mAccessToken Create (0.5ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 11:55:32.655324"], ["updated_at", "2023-08-21 11:55:32.655324"]]
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
Completed 200 OK in 1843ms (Views: 0.5ms | ActiveRecord: 18.5ms | Allocations: 6858)


Started POST "/stkpush" for 197.232.61.237 at 2023-08-21 14:55:52 +0300
Processing by MpesasController#stkpush as */*
  Parameters: {"phoneNumber"=>"254704412004", "amount"=>"1", "mpesa"=>{"phoneNumber"=>"254704412004", "amount"=>"1"}}
  [1m[36mAccessToken Load (0.2ms)[0m  [1m[34mSELECT "access_tokens".* FROM "access_tokens"[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mAccessToken Destroy (0.3ms)[0m  [1m[31mDELETE FROM "access_tokens" WHERE "access_tokens"."id" = ?[0m  [["id", 73]]
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:116:in `get_access_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mAccessToken Create (0.4ms)[0m  [1m[32mINSERT INTO "access_tokens" ("token", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["token", "[FILTERED]"], ["created_at", "2023-08-21 11:55:53.250896"], ["updated_at", "2023-08-21 11:55:53.250896"]]
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/mpesas_controller.rb:117:in `get_access_token'
Completed 200 OK in 1691ms (Views: 0.4ms | ActiveRecord: 15.1ms | Allocations: 5652)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (12.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (14.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (14.4ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.9ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (13.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (10.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-21 13:56:50.205789"], ["updated_at", "2023-08-21 13:56:50.205789"]]
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-21 13:56:50.223015"], ["updated_at", "2023-08-21 13:56:50.223015"]]
  [1m[36mTRANSACTION (14.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (15.8ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (12.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (18.7ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (18.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (13.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (15.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (8.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (18.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-21 13:56:50.548920"], ["updated_at", "2023-08-21 13:56:50.548920"]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-21 13:56:50.564534"], ["key", "environment"]]
  [1m[36mTRANSACTION (14.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-21 13:56:50.583664"], ["updated_at", "2023-08-21 13:56:50.583664"]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAdmin Create (0.3ms)[0m  [1m[32mINSERT INTO "admins" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["phone_number", 126506888], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-21 13:56:50.891123"], ["updated_at", "2023-08-21 13:56:50.891123"]]
  [1m[36mTRANSACTION (14.4ms)[0m  [1m[36mcommit transaction[0m
Started POST "/customer/register" for ::1 at 2023-08-21 16:58:23 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#register as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"kian99564@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f60bcdb0960 @tempfile=#<Tempfile:/tmp/RackMultipart20230821-36446-14hh3vq.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "kian99564@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "Ian Kamau"], ["email", "kian99564@gmail.com"], ["phone_number", 704412004], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-21 13:58:24.250567"], ["updated_at", "2023-08-21 13:58:24.250567"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "fj7jpb3h2cy5jb5pjx3hebanfcc2"], ["filename", "web-development.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 2463951], ["checksum", "RVmtgWoAIxqv5kXq//AVMQ=="], ["created_at", "2023-08-21 13:58:24.287773"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "file"], ["record_type", "Customer"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-21 13:58:24.290932"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Update (0.2ms)[0m  [1m[33mUPDATE "customers" SET "updated_at" = ? WHERE "customers"."id" = ?[0m  [["updated_at", "2023-08-21 13:58:24.294245"], ["id", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
[36m  Disk Storage (8.6ms) [0m[32mUploaded file to key: fj7jpb3h2cy5jb5pjx3hebanfcc2 (checksum: RVmtgWoAIxqv5kXq//AVMQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: fcfdaed1-7f46-4a8a-b633-7d011257dea0) to Async(default) with arguments: #<GlobalID:0x00007f60b0fb7760 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "kian99564@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
UserMailer#welcome_email: processed outbound mail in 4.7ms
Completed 500 Internal Server Error in 526ms (ActiveRecord: 17.1ms | Allocations: 134581)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/mailers/user_mailer.rb:4:in `welcome_email'
app/controllers/customers_controller.rb:7:in `register'
[ActiveJob] [ActiveStorage::AnalyzeJob] [fcfdaed1-7f46-4a8a-b633-7d011257dea0]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [fcfdaed1-7f46-4a8a-b633-7d011257dea0] Performing ActiveStorage::AnalyzeJob (Job ID: fcfdaed1-7f46-4a8a-b633-7d011257dea0) from Async(default) enqueued at 2023-08-21T13:58:24Z with arguments: #<GlobalID:0x00007f6090029778 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [fcfdaed1-7f46-4a8a-b633-7d011257dea0] [36m  Disk Storage (24.1ms) [0m[34mDownloaded file from key: fj7jpb3h2cy5jb5pjx3hebanfcc2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fcfdaed1-7f46-4a8a-b633-7d011257dea0]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fcfdaed1-7f46-4a8a-b633-7d011257dea0]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":6000,\"height\":4000,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [fcfdaed1-7f46-4a8a-b633-7d011257dea0]   [1m[36mTRANSACTION (11.6ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fcfdaed1-7f46-4a8a-b633-7d011257dea0] Performed ActiveStorage::AnalyzeJob (Job ID: fcfdaed1-7f46-4a8a-b633-7d011257dea0) from Async(default) in 660.05ms
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (14.4ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (14.4ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (15.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (13.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (9.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-21 14:00:04.546489"], ["updated_at", "2023-08-21 14:00:04.546489"]]
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-21 14:00:04.569591"], ["updated_at", "2023-08-21 14:00:04.569591"]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (18.4ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (20.4ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (13.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (18.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (10.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (14.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-21 14:00:04.903360"], ["updated_at", "2023-08-21 14:00:04.903360"]]
  [1m[36mTRANSACTION (15.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-21 14:00:04.925066"], ["key", "environment"]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-21 14:00:04.941443"], ["updated_at", "2023-08-21 14:00:04.941443"]]
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAdmin Create (0.4ms)[0m  [1m[32mINSERT INTO "admins" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["phone_number", 126506888], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-21 14:00:05.273538"], ["updated_at", "2023-08-21 14:00:05.273538"]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[36mcommit transaction[0m
Started POST "/customer/register" for ::1 at 2023-08-21 17:01:50 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#register as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"ceoian848@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fd0a0db6578 @tempfile=#<Tempfile:/tmp/RackMultipart20230821-37702-8yaizt.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.5ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "Ian Kamau"], ["email", "ceoian848@gmail.com"], ["phone_number", 704412004], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-21 14:01:51.279569"], ["updated_at", "2023-08-21 14:01:51.279569"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "bqs1ujpxwrwuijmbjwtd5q8k9u1y"], ["filename", "web-development.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 2463951], ["checksum", "RVmtgWoAIxqv5kXq//AVMQ=="], ["created_at", "2023-08-21 14:01:51.337034"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "file"], ["record_type", "Customer"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-21 14:01:51.341940"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Update (0.2ms)[0m  [1m[33mUPDATE "customers" SET "updated_at" = ? WHERE "customers"."id" = ?[0m  [["updated_at", "2023-08-21 14:01:51.349056"], ["id", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (14.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
[36m  Disk Storage (11.2ms) [0m[32mUploaded file to key: bqs1ujpxwrwuijmbjwtd5q8k9u1y (checksum: RVmtgWoAIxqv5kXq//AVMQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a6be794c-03ae-494d-9456-d6026afb8e61) to Async(default) with arguments: #<GlobalID:0x00007fd0a141ba08 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
  [1m[36mCustomer Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
UserMailer#welcome_email: processed outbound mail in 8.9ms
Completed 500 Internal Server Error in 562ms (ActiveRecord: 19.1ms | Allocations: 130831)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/mailers/user_mailer.rb:4:in `welcome_email'
app/controllers/customers_controller.rb:7:in `register'
[ActiveJob] [ActiveStorage::AnalyzeJob] [a6be794c-03ae-494d-9456-d6026afb8e61]   [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a6be794c-03ae-494d-9456-d6026afb8e61] Performing ActiveStorage::AnalyzeJob (Job ID: a6be794c-03ae-494d-9456-d6026afb8e61) from Async(default) enqueued at 2023-08-21T14:01:51Z with arguments: #<GlobalID:0x00007fd07403b230 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [a6be794c-03ae-494d-9456-d6026afb8e61] [36m  Disk Storage (3.1ms) [0m[34mDownloaded file from key: bqs1ujpxwrwuijmbjwtd5q8k9u1y[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a6be794c-03ae-494d-9456-d6026afb8e61]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a6be794c-03ae-494d-9456-d6026afb8e61]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":6000,\"height\":4000,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a6be794c-03ae-494d-9456-d6026afb8e61]   [1m[36mTRANSACTION (13.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a6be794c-03ae-494d-9456-d6026afb8e61] Performed ActiveStorage::AnalyzeJob (Job ID: a6be794c-03ae-494d-9456-d6026afb8e61) from Async(default) in 577.86ms
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (19.0ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (17.3ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (15.9ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (15.9ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (14.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (9.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (13.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-21 14:02:50.934060"], ["updated_at", "2023-08-21 14:02:50.934060"]]
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-21 14:02:50.952947"], ["updated_at", "2023-08-21 14:02:50.952947"]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (20.5ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (14.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (13.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (10.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-21 14:02:51.272825"], ["updated_at", "2023-08-21 14:02:51.272825"]]
  [1m[36mTRANSACTION (13.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-21 14:02:51.293054"], ["key", "environment"]]
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-21 14:02:51.311531"], ["updated_at", "2023-08-21 14:02:51.311531"]]
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["phone_number", 126506888], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-21 14:02:51.617919"], ["updated_at", "2023-08-21 14:02:51.617919"]]
  [1m[36mTRANSACTION (13.7ms)[0m  [1m[36mcommit transaction[0m
Started POST "/customer/register" for ::1 at 2023-08-21 17:03:56 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#register as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"ceoian848@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f5f6897d348 @tempfile=#<Tempfile:/tmp/RackMultipart20230821-38277-1xz6zl8.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.5ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "Ian Kamau"], ["email", "ceoian848@gmail.com"], ["phone_number", 704412004], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-21 14:03:56.842031"], ["updated_at", "2023-08-21 14:03:56.842031"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "plyiklhv3i8howgu4q480jbrgbb4"], ["filename", "web-development.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 2463951], ["checksum", "RVmtgWoAIxqv5kXq//AVMQ=="], ["created_at", "2023-08-21 14:03:56.907196"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "file"], ["record_type", "Customer"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-21 14:03:56.911418"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Update (0.2ms)[0m  [1m[33mUPDATE "customers" SET "updated_at" = ? WHERE "customers"."id" = ?[0m  [["updated_at", "2023-08-21 14:03:56.917521"], ["id", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (17.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
[36m  Disk Storage (13.4ms) [0m[32mUploaded file to key: plyiklhv3i8howgu4q480jbrgbb4 (checksum: RVmtgWoAIxqv5kXq//AVMQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ca089927-32d8-40cf-acbe-7b80763bbc2a) to Async(default) with arguments: #<GlobalID:0x00007f5f68ff8a38 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
  Rendering layout layouts/mailer.html.erb
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (Duration: 7.4ms | Allocations: 2227)
  Rendered layout layouts/mailer.html.erb (Duration: 7.8ms | Allocations: 2301)
UserMailer#welcome_email: processed outbound mail in 33.8ms
Completed 500 Internal Server Error in 696ms (ActiveRecord: 23.1ms | Allocations: 138580)


  
ActionView::Template::Error (undefined method `name' for nil:NilClass):
    4:     <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
    5:   </head>
    6:   <body>
    7:     <h1>Welcome to example.com, <%= @user.name %></h1>
    8:     <p>
    9:       You have successfully signed up to example.com,
   10:       your username is: <%= @user.name %>.<br>
  
app/views/user_mailer/welcome_email.html.erb:7
app/mailers/user_mailer.rb:5:in `welcome_email'
app/controllers/customers_controller.rb:7:in `register'
[ActiveJob] [ActiveStorage::AnalyzeJob] [ca089927-32d8-40cf-acbe-7b80763bbc2a]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ca089927-32d8-40cf-acbe-7b80763bbc2a] Performing ActiveStorage::AnalyzeJob (Job ID: ca089927-32d8-40cf-acbe-7b80763bbc2a) from Async(default) enqueued at 2023-08-21T14:03:56Z with arguments: #<GlobalID:0x00007f5f4c030a18 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [ca089927-32d8-40cf-acbe-7b80763bbc2a] [36m  Disk Storage (19.9ms) [0m[34mDownloaded file from key: plyiklhv3i8howgu4q480jbrgbb4[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ca089927-32d8-40cf-acbe-7b80763bbc2a]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ca089927-32d8-40cf-acbe-7b80763bbc2a]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":6000,\"height\":4000,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ca089927-32d8-40cf-acbe-7b80763bbc2a]   [1m[36mTRANSACTION (15.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ca089927-32d8-40cf-acbe-7b80763bbc2a] Performed ActiveStorage::AnalyzeJob (Job ID: ca089927-32d8-40cf-acbe-7b80763bbc2a) from Async(default) in 691.37ms
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (11.4ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (22.9ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (17.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (1.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (13.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (12.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (11.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (14.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-21 14:04:37.289501"], ["updated_at", "2023-08-21 14:04:37.289501"]]
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-21 14:04:37.309656"], ["updated_at", "2023-08-21 14:04:37.309656"]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (12.9ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (13.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (20.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (8.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (14.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-21 14:04:37.630738"], ["updated_at", "2023-08-21 14:04:37.630738"]]
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-21 14:04:37.649430"], ["key", "environment"]]
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-21 14:04:37.663804"], ["updated_at", "2023-08-21 14:04:37.663804"]]
  [1m[36mTRANSACTION (13.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["phone_number", 126506888], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-21 14:04:37.975752"], ["updated_at", "2023-08-21 14:04:37.975752"]]
  [1m[36mTRANSACTION (13.2ms)[0m  [1m[36mcommit transaction[0m
Started POST "/customer/register" for ::1 at 2023-08-21 17:05:11 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#register as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"ceoian848@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fedc1101b78 @tempfile=#<Tempfile:/tmp/RackMultipart20230821-38579-rmrjuq.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "Ian Kamau"], ["email", "ceoian848@gmail.com"], ["phone_number", 704412004], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-21 14:05:12.321133"], ["updated_at", "2023-08-21 14:05:12.321133"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "aamns94ss0mfikx1tv4w60yejv5h"], ["filename", "web-development.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 2463951], ["checksum", "RVmtgWoAIxqv5kXq//AVMQ=="], ["created_at", "2023-08-21 14:05:12.378624"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "file"], ["record_type", "Customer"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-21 14:05:12.384063"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Update (0.2ms)[0m  [1m[33mUPDATE "customers" SET "updated_at" = ? WHERE "customers"."id" = ?[0m  [["updated_at", "2023-08-21 14:05:12.390127"], ["id", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
[36m  Disk Storage (12.9ms) [0m[32mUploaded file to key: aamns94ss0mfikx1tv4w60yejv5h (checksum: RVmtgWoAIxqv5kXq//AVMQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6f5a9160-874a-4cce-bb2b-aa526bc94b96) to Async(default) with arguments: #<GlobalID:0x00007fedc0dda058 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
  [1m[36mCustomer Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
  Rendering layout layouts/mailer.html.erb
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (Duration: 5.5ms | Allocations: 350)
  Rendered layout layouts/mailer.html.erb (Duration: 7.1ms | Allocations: 593)
UserMailer#welcome_email: processed outbound mail in 42.4ms
Delivered mail 64e36f1886736_96b3e1c88549@mose-pc.mail (1011.0ms)
Date: Mon, 21 Aug 2023 17:05:12 +0300
From: kian99564@gmail.com
To: ceoian848@gmail.com
Message-ID: <64e36f1886736_96b3e1c88549@mose-pc.mail>
Subject: Welcome To Mill Autos
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Welcome to example.com</h1>
    <p>
      You have successfully signed up to example.com,
    </p>
    <p>Thanks for joining and have a great day!</p>
  </body>
</html>
  </body>
</html>

Completed 201 Created in 1632ms (Views: 1.7ms | ActiveRecord: 18.6ms | Allocations: 152568)


[ActiveJob] [ActiveStorage::AnalyzeJob] [6f5a9160-874a-4cce-bb2b-aa526bc94b96]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f5a9160-874a-4cce-bb2b-aa526bc94b96] Performing ActiveStorage::AnalyzeJob (Job ID: 6f5a9160-874a-4cce-bb2b-aa526bc94b96) from Async(default) enqueued at 2023-08-21T14:05:12Z with arguments: #<GlobalID:0x00007fedc08dc268 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f5a9160-874a-4cce-bb2b-aa526bc94b96] [36m  Disk Storage (3.1ms) [0m[34mDownloaded file from key: aamns94ss0mfikx1tv4w60yejv5h[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f5a9160-874a-4cce-bb2b-aa526bc94b96]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f5a9160-874a-4cce-bb2b-aa526bc94b96]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":6000,\"height\":4000,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f5a9160-874a-4cce-bb2b-aa526bc94b96]   [1m[36mTRANSACTION (13.6ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f5a9160-874a-4cce-bb2b-aa526bc94b96] Performed ActiveStorage::AnalyzeJob (Job ID: 6f5a9160-874a-4cce-bb2b-aa526bc94b96) from Async(default) in 549.48ms
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (14.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (8.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (21.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-21 14:07:08.041366"], ["updated_at", "2023-08-21 14:07:08.041366"]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-21 14:07:08.063564"], ["updated_at", "2023-08-21 14:07:08.063564"]]
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (15.6ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (14.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (14.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (13.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (10.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-21 14:07:08.373751"], ["updated_at", "2023-08-21 14:07:08.373751"]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-21 14:07:08.389981"], ["key", "environment"]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-21 14:07:08.406614"], ["updated_at", "2023-08-21 14:07:08.406614"]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAdmin Create (0.3ms)[0m  [1m[32mINSERT INTO "admins" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["phone_number", 126506888], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-21 14:07:08.717549"], ["updated_at", "2023-08-21 14:07:08.717549"]]
  [1m[36mTRANSACTION (13.1ms)[0m  [1m[36mcommit transaction[0m
Started POST "/customer/register" for ::1 at 2023-08-21 17:07:17 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#register as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"ceoian848@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fe1490cd708 @tempfile=#<Tempfile:/tmp/RackMultipart20230821-38947-1pozu68.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "Ian Kamau"], ["email", "ceoian848@gmail.com"], ["phone_number", 704412004], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-21 14:07:18.507842"], ["updated_at", "2023-08-21 14:07:18.507842"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "y6hpur7idot3is6pk84wzc4mvn3k"], ["filename", "web-development.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 2463951], ["checksum", "RVmtgWoAIxqv5kXq//AVMQ=="], ["created_at", "2023-08-21 14:07:18.563894"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "file"], ["record_type", "Customer"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-21 14:07:18.568851"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Update (0.1ms)[0m  [1m[33mUPDATE "customers" SET "updated_at" = ? WHERE "customers"."id" = ?[0m  [["updated_at", "2023-08-21 14:07:18.574835"], ["id", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
[36m  Disk Storage (9.4ms) [0m[32mUploaded file to key: y6hpur7idot3is6pk84wzc4mvn3k (checksum: RVmtgWoAIxqv5kXq//AVMQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 42ba56af-f282-4657-ae06-853f5390bae5) to Async(default) with arguments: #<GlobalID:0x00007fe154dd3f78 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
  [1m[36mCustomer Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
  Rendering layout layouts/mailer.html.erb
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (Duration: 2.8ms | Allocations: 350)
  Rendered layout layouts/mailer.html.erb (Duration: 4.3ms | Allocations: 593)
UserMailer#welcome_email: processed outbound mail in 29.6ms
Delivered mail 64e36f96a9ec7_9823e1c81257@mose-pc.mail (567.5ms)
Date: Mon, 21 Aug 2023 17:07:18 +0300
From: kian99564@gmail.com
To: ceoian848@gmail.com
Message-ID: <64e36f96a9ec7_9823e1c81257@mose-pc.mail>
Subject: Welcome To Mill Autos
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Welcome to example.com</h1>
    <p>
      You have successfully signed up to example.com,
    </p>
    <p>Thanks for joining and have a great day!</p>
  </body>
</html>
  </body>
</html>

Completed 201 Created in 1144ms (Views: 0.8ms | ActiveRecord: 17.7ms | Allocations: 145414)


[ActiveJob] [ActiveStorage::AnalyzeJob] [42ba56af-f282-4657-ae06-853f5390bae5]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [42ba56af-f282-4657-ae06-853f5390bae5] Performing ActiveStorage::AnalyzeJob (Job ID: 42ba56af-f282-4657-ae06-853f5390bae5) from Async(default) enqueued at 2023-08-21T14:07:18Z with arguments: #<GlobalID:0x00007fe15478db28 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [42ba56af-f282-4657-ae06-853f5390bae5] [36m  Disk Storage (4.0ms) [0m[34mDownloaded file from key: y6hpur7idot3is6pk84wzc4mvn3k[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [42ba56af-f282-4657-ae06-853f5390bae5]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [42ba56af-f282-4657-ae06-853f5390bae5]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":6000,\"height\":4000,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [42ba56af-f282-4657-ae06-853f5390bae5]   [1m[36mTRANSACTION (10.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [42ba56af-f282-4657-ae06-853f5390bae5] Performed ActiveStorage::AnalyzeJob (Job ID: 42ba56af-f282-4657-ae06-853f5390bae5) from Async(default) in 508.41ms
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (14.3ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (15.9ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (12.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (9.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (16.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-21 14:08:57.113031"], ["updated_at", "2023-08-21 14:08:57.113031"]]
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-21 14:08:57.127833"], ["updated_at", "2023-08-21 14:08:57.127833"]]
  [1m[36mTRANSACTION (14.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (18.8ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (11.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (10.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-21 14:08:57.437487"], ["updated_at", "2023-08-21 14:08:57.437487"]]
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-21 14:08:57.455084"], ["key", "environment"]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-21 14:08:57.471308"], ["updated_at", "2023-08-21 14:08:57.471308"]]
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAdmin Create (0.3ms)[0m  [1m[32mINSERT INTO "admins" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["phone_number", 126506888], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-21 14:08:57.796467"], ["updated_at", "2023-08-21 14:08:57.796467"]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[36mcommit transaction[0m
Started POST "/customer/register" for ::1 at 2023-08-21 17:09:07 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#register as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"ceoian848@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f27ad0d9158 @tempfile=#<Tempfile:/tmp/RackMultipart20230821-39181-1w4lhzw.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "Ian Kamau"], ["email", "ceoian848@gmail.com"], ["phone_number", 704412004], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-21 14:09:07.765266"], ["updated_at", "2023-08-21 14:09:07.765266"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Create (1.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "qu46qil2ovttrccomr3k6sc0g13g"], ["filename", "web-development.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 2463951], ["checksum", "RVmtgWoAIxqv5kXq//AVMQ=="], ["created_at", "2023-08-21 14:09:07.824343"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "file"], ["record_type", "Customer"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-21 14:09:07.831410"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Update (0.2ms)[0m  [1m[33mUPDATE "customers" SET "updated_at" = ? WHERE "customers"."id" = ?[0m  [["updated_at", "2023-08-21 14:09:07.834599"], ["id", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
[36m  Disk Storage (9.5ms) [0m[32mUploaded file to key: qu46qil2ovttrccomr3k6sc0g13g (checksum: RVmtgWoAIxqv5kXq//AVMQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: eaedd38c-0e84-4ee1-8591-24deb47cc55c) to Async(default) with arguments: #<GlobalID:0x00007f27b8dc6e50 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
  Rendering layout layouts/mailer.html.erb
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (Duration: 2.3ms | Allocations: 350)
  Rendered layout layouts/mailer.html.erb (Duration: 7.1ms | Allocations: 593)
UserMailer#welcome_email: processed outbound mail in 31.7ms
Delivered mail 64e37003eba11_990de1c868450@mose-pc.mail (561.4ms)
Date: Mon, 21 Aug 2023 17:09:07 +0300
From: kian99564@gmail.com
To: ceoian848@gmail.com
Message-ID: <64e37003eba11_990de1c868450@mose-pc.mail>
Subject: Welcome To Mill Autos
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Welcome to example.com</h1>
    <p>
      You have successfully signed up to example.com,
    </p>
    <p>Thanks for joining and have a great day!</p>
  </body>
</html>
  </body>
</html>

Completed 201 Created in 1147ms (Views: 0.3ms | ActiveRecord: 18.4ms | Allocations: 145415)


[ActiveJob] [ActiveStorage::AnalyzeJob] [eaedd38c-0e84-4ee1-8591-24deb47cc55c]   [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [eaedd38c-0e84-4ee1-8591-24deb47cc55c] Performing ActiveStorage::AnalyzeJob (Job ID: eaedd38c-0e84-4ee1-8591-24deb47cc55c) from Async(default) enqueued at 2023-08-21T14:09:07Z with arguments: #<GlobalID:0x0000555c02d6a480 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [eaedd38c-0e84-4ee1-8591-24deb47cc55c] [36m  Disk Storage (2.5ms) [0m[34mDownloaded file from key: qu46qil2ovttrccomr3k6sc0g13g[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [eaedd38c-0e84-4ee1-8591-24deb47cc55c]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [eaedd38c-0e84-4ee1-8591-24deb47cc55c]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":6000,\"height\":4000,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [eaedd38c-0e84-4ee1-8591-24deb47cc55c]   [1m[36mTRANSACTION (10.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [eaedd38c-0e84-4ee1-8591-24deb47cc55c] Performed ActiveStorage::AnalyzeJob (Job ID: eaedd38c-0e84-4ee1-8591-24deb47cc55c) from Async(default) in 520.47ms
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (14.3ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (14.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (12.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (10.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (21.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-21 14:12:16.184317"], ["updated_at", "2023-08-21 14:12:16.184317"]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-21 14:12:16.206286"], ["updated_at", "2023-08-21 14:12:16.206286"]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (14.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (18.0ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (10.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (12.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-21 14:12:16.536441"], ["updated_at", "2023-08-21 14:12:16.536441"]]
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-21 14:12:16.555634"], ["key", "environment"]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-21 14:12:16.569116"], ["updated_at", "2023-08-21 14:12:16.569116"]]
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAdmin Create (0.3ms)[0m  [1m[32mINSERT INTO "admins" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["phone_number", 126506888], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-21 14:12:16.905123"], ["updated_at", "2023-08-21 14:12:16.905123"]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[36mcommit transaction[0m
Started POST "/customer/register" for ::1 at 2023-08-21 17:12:22 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#register as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"ceoian848@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007ff28ce7c440 @tempfile=#<Tempfile:/tmp/RackMultipart20230821-39527-8exonb.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "Ian Kamau"], ["email", "ceoian848@gmail.com"], ["phone_number", 704412004], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-21 14:12:23.415068"], ["updated_at", "2023-08-21 14:12:23.415068"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "wrl2bb8xb0aful8octqpguquqyxd"], ["filename", "web-development.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 2463951], ["checksum", "RVmtgWoAIxqv5kXq//AVMQ=="], ["created_at", "2023-08-21 14:12:23.488996"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "file"], ["record_type", "Customer"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-21 14:12:23.495884"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Update (0.2ms)[0m  [1m[33mUPDATE "customers" SET "updated_at" = ? WHERE "customers"."id" = ?[0m  [["updated_at", "2023-08-21 14:12:23.498918"], ["id", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
[36m  Disk Storage (9.8ms) [0m[32mUploaded file to key: wrl2bb8xb0aful8octqpguquqyxd (checksum: RVmtgWoAIxqv5kXq//AVMQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 76ba206d-345e-42b2-b39c-5353812b4e0c) to Async(default) with arguments: #<GlobalID:0x00007ff28c77d658 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
  Rendering layout layouts/mailer.html.erb
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (Duration: 2.7ms | Allocations: 350)
  Rendered layout layouts/mailer.html.erb (Duration: 4.8ms | Allocations: 593)
UserMailer#welcome_email: processed outbound mail in 27.5ms
Delivered mail 64e370c797acc_9a67e1c8707bd@mose-pc.mail (787.7ms)
Date: Mon, 21 Aug 2023 17:12:23 +0300
From: kian99564@gmail.com
To: ceoian848@gmail.com
Message-ID: <64e370c797acc_9a67e1c8707bd@mose-pc.mail>
Subject: Welcome To Mill Autos
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Welcome to example.com</h1>
    <p>
      You have successfully signed up to example.com,
    </p>
    <p>Thanks for joining and have a great day!</p>
  </body>
</html>
  </body>
</html>

Completed 201 Created in 1393ms (Views: 0.3ms | ActiveRecord: 18.3ms | Allocations: 145415)


[ActiveJob] [ActiveStorage::AnalyzeJob] [76ba206d-345e-42b2-b39c-5353812b4e0c]   [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [76ba206d-345e-42b2-b39c-5353812b4e0c] Performing ActiveStorage::AnalyzeJob (Job ID: 76ba206d-345e-42b2-b39c-5353812b4e0c) from Async(default) enqueued at 2023-08-21T14:12:23Z with arguments: #<GlobalID:0x00005557dd8bd3c0 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [76ba206d-345e-42b2-b39c-5353812b4e0c] [36m  Disk Storage (4.3ms) [0m[34mDownloaded file from key: wrl2bb8xb0aful8octqpguquqyxd[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [76ba206d-345e-42b2-b39c-5353812b4e0c]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [76ba206d-345e-42b2-b39c-5353812b4e0c]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":6000,\"height\":4000,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [76ba206d-345e-42b2-b39c-5353812b4e0c]   [1m[36mTRANSACTION (9.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [76ba206d-345e-42b2-b39c-5353812b4e0c] Performed ActiveStorage::AnalyzeJob (Job ID: 76ba206d-345e-42b2-b39c-5353812b4e0c) from Async(default) in 684.19ms
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (10.4ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (23.0ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (14.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (12.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (15.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-21 14:19:22.401473"], ["updated_at", "2023-08-21 14:19:22.401473"]]
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-21 14:19:22.420913"], ["updated_at", "2023-08-21 14:19:22.420913"]]
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (15.3ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (15.6ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (15.3ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (19.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (8.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (10.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-21 14:19:22.733975"], ["updated_at", "2023-08-21 14:19:22.733975"]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-21 14:19:22.747605"], ["key", "environment"]]
  [1m[36mTRANSACTION (13.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-21 14:19:22.766383"], ["updated_at", "2023-08-21 14:19:22.766383"]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["phone_number", 126506888], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-21 14:19:23.080824"], ["updated_at", "2023-08-21 14:19:23.080824"]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[36mcommit transaction[0m
Started POST "/customer/register" for ::1 at 2023-08-21 17:20:25 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#register as */*
  Parameters: {"username"=>"Ian Kamau", "email"=>"ceoian848@gmail.com", "phone_number"=>"0704412004", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f0c78da2fd8 @tempfile=#<Tempfile:/tmp/RackMultipart20230821-40194-1mctftz.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "Ian Kamau"], ["email", "ceoian848@gmail.com"], ["phone_number", 704412004], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-21 14:20:26.309027"], ["updated_at", "2023-08-21 14:20:26.309027"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "5ewjh6q24metnwfchsblo6r2hti3"], ["filename", "web-development.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 2463951], ["checksum", "RVmtgWoAIxqv5kXq//AVMQ=="], ["created_at", "2023-08-21 14:20:26.354708"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "file"], ["record_type", "Customer"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-21 14:20:26.359271"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Update (0.4ms)[0m  [1m[33mUPDATE "customers" SET "updated_at" = ? WHERE "customers"."id" = ?[0m  [["updated_at", "2023-08-21 14:20:26.362305"], ["id", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (13.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
[36m  Disk Storage (11.9ms) [0m[32mUploaded file to key: 5ewjh6q24metnwfchsblo6r2hti3 (checksum: RVmtgWoAIxqv5kXq//AVMQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 87ccedaf-75e2-4670-845f-b26699050513) to Async(default) with arguments: #<GlobalID:0x00007f0c79413250 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
  Rendering layout layouts/mailer.html.erb
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (Duration: 0.9ms | Allocations: 350)
  Rendered layout layouts/mailer.html.erb (Duration: 1.6ms | Allocations: 593)
UserMailer#welcome_email: processed outbound mail in 18.7ms
Delivered mail 64e372aa772d0_9d02e1c8674d7@mose-pc.mail (4175.2ms)
Date: Mon, 21 Aug 2023 17:20:26 +0300
From: kian99564@gmail.com
To: ceoian848@gmail.com
Message-ID: <64e372aa772d0_9d02e1c8674d7@mose-pc.mail>
Subject: Welcome To Mill Autos
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Welcome to example.com</h1>
    <p>
      You have successfully signed up to example.com,
    </p>
    <p>Thanks for joining and have a great day!</p>
  </body>
</html>
  </body>
</html>

Completed 201 Created in 4724ms (Views: 0.5ms | ActiveRecord: 19.4ms | Allocations: 147015)


[ActiveJob] [ActiveStorage::AnalyzeJob] [87ccedaf-75e2-4670-845f-b26699050513]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [87ccedaf-75e2-4670-845f-b26699050513] Performing ActiveStorage::AnalyzeJob (Job ID: 87ccedaf-75e2-4670-845f-b26699050513) from Async(default) enqueued at 2023-08-21T14:20:26Z with arguments: #<GlobalID:0x00007f0c50028d30 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [87ccedaf-75e2-4670-845f-b26699050513] [36m  Disk Storage (3.1ms) [0m[34mDownloaded file from key: 5ewjh6q24metnwfchsblo6r2hti3[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [87ccedaf-75e2-4670-845f-b26699050513]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [87ccedaf-75e2-4670-845f-b26699050513]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":6000,\"height\":4000,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [87ccedaf-75e2-4670-845f-b26699050513]   [1m[36mTRANSACTION (11.5ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [87ccedaf-75e2-4670-845f-b26699050513] Performed ActiveStorage::AnalyzeJob (Job ID: 87ccedaf-75e2-4670-845f-b26699050513) from Async(default) in 509.3ms
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (21.6ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (19.8ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (17.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (2.1ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (25.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (15.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (8.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-23 18:13:01.704349"], ["updated_at", "2023-08-23 18:13:01.704349"]]
  [1m[36mTRANSACTION (15.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-23 18:13:01.736602"], ["updated_at", "2023-08-23 18:13:01.736602"]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (28.5ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (26.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (23.3ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (22.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (17.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (2.9ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (3.9ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (6.6ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (1.6ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (14.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (10.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (12.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-23 18:13:02.191633"], ["updated_at", "2023-08-23 18:13:02.191633"]]
  [1m[36mTRANSACTION (13.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-23 18:13:02.210116"], ["key", "environment"]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-23 18:13:02.226054"], ["updated_at", "2023-08-23 18:13:02.226054"]]
  [1m[36mTRANSACTION (14.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAdmin Create (0.3ms)[0m  [1m[32mINSERT INTO "admins" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["phone_number", 126506888], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-23 18:13:02.555151"], ["updated_at", "2023-08-23 18:13:02.555151"]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[36mcommit transaction[0m
Started POST "/customer/register" for 127.0.0.1 at 2023-08-23 21:14:44 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#register as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f8b24df73a0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-58806-1xtg6ik.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "ian"], ["email", "ceoian848@gmail.com"], ["phone_number", nil], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-23 18:14:45.074055"], ["updated_at", "2023-08-23 18:14:45.074055"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ekdu307n3re3j829v2nkqi3dy8j8"], ["filename", "web-development.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 2463951], ["checksum", "RVmtgWoAIxqv5kXq//AVMQ=="], ["created_at", "2023-08-23 18:14:45.120603"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "file"], ["record_type", "Customer"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-23 18:14:45.124388"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Update (0.2ms)[0m  [1m[33mUPDATE "customers" SET "updated_at" = ? WHERE "customers"."id" = ?[0m  [["updated_at", "2023-08-23 18:14:45.127283"], ["id", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (14.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
[36m  Disk Storage (8.6ms) [0m[32mUploaded file to key: ekdu307n3re3j829v2nkqi3dy8j8 (checksum: RVmtgWoAIxqv5kXq//AVMQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0b974bd9-0c8c-4517-a8ee-330a675e4a42) to Async(default) with arguments: #<GlobalID:0x00007f8b34fec240 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
  [1m[36mCustomer Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
  Rendering layout layouts/mailer.html.erb
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (Duration: 1.9ms | Allocations: 350)
  Rendered layout layouts/mailer.html.erb (Duration: 4.1ms | Allocations: 593)
UserMailer#welcome_email: processed outbound mail in 30.0ms
Delivered mail 64e64c953aa5b_e5b6e1b45621b@mose-pc.mail (3862.6ms)
Date: Wed, 23 Aug 2023 21:14:45 +0300
From: kian99564@gmail.com
To: ceoian848@gmail.com
Message-ID: <64e64c953aa5b_e5b6e1b45621b@mose-pc.mail>
Subject: Welcome To Mill Autos
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Welcome to example.com</h1>
    <p>
      You have successfully signed up to example.com,
    </p>
    <p>Thanks for joining and have a great day!</p>
  </body>
</html>
  </body>
</html>

Completed 201 Created in 4422ms (Views: 1.2ms | ActiveRecord: 18.4ms | Allocations: 146935)


[ActiveJob] [ActiveStorage::AnalyzeJob] [0b974bd9-0c8c-4517-a8ee-330a675e4a42]   [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0b974bd9-0c8c-4517-a8ee-330a675e4a42] Performing ActiveStorage::AnalyzeJob (Job ID: 0b974bd9-0c8c-4517-a8ee-330a675e4a42) from Async(default) enqueued at 2023-08-23T18:14:45Z with arguments: #<GlobalID:0x00007f8b0003b6e0 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [0b974bd9-0c8c-4517-a8ee-330a675e4a42] [36m  Disk Storage (3.2ms) [0m[34mDownloaded file from key: ekdu307n3re3j829v2nkqi3dy8j8[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0b974bd9-0c8c-4517-a8ee-330a675e4a42]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0b974bd9-0c8c-4517-a8ee-330a675e4a42]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":6000,\"height\":4000,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0b974bd9-0c8c-4517-a8ee-330a675e4a42]   [1m[36mTRANSACTION (11.5ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0b974bd9-0c8c-4517-a8ee-330a675e4a42] Performed ActiveStorage::AnalyzeJob (Job ID: 0b974bd9-0c8c-4517-a8ee-330a675e4a42) from Async(default) in 596.13ms
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (21.7ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (18.8ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (9.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (12.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-23 18:15:10.836743"], ["updated_at", "2023-08-23 18:15:10.836743"]]
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-23 18:15:10.858571"], ["updated_at", "2023-08-23 18:15:10.858571"]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (10.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (12.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-23 18:15:11.172934"], ["updated_at", "2023-08-23 18:15:11.172934"]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.5ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-23 18:15:11.189657"], ["key", "environment"]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-23 18:15:11.208873"], ["updated_at", "2023-08-23 18:15:11.208873"]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAdmin Create (0.4ms)[0m  [1m[32mINSERT INTO "admins" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["phone_number", 126506888], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-23 18:15:11.541982"], ["updated_at", "2023-08-23 18:15:11.541982"]]
  [1m[36mTRANSACTION (13.2ms)[0m  [1m[36mcommit transaction[0m
Started POST "/customer/register" for 127.0.0.1 at 2023-08-23 21:15:45 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#register as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f33b495d618 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-59132-1dj7abo.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "ian"], ["email", "ceoian848@gmail.com"], ["phone_number", 254704412004], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-23 18:15:46.110507"], ["updated_at", "2023-08-23 18:15:46.110507"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "7ima939y13swnzgw31c78xg2s15v"], ["filename", "web-development.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 2463951], ["checksum", "RVmtgWoAIxqv5kXq//AVMQ=="], ["created_at", "2023-08-23 18:15:46.233647"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "file"], ["record_type", "Customer"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-23 18:15:46.238587"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Update (0.4ms)[0m  [1m[33mUPDATE "customers" SET "updated_at" = ? WHERE "customers"."id" = ?[0m  [["updated_at", "2023-08-23 18:15:46.249247"], ["id", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (21.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
[36m  Disk Storage (10.6ms) [0m[32mUploaded file to key: 7ima939y13swnzgw31c78xg2s15v (checksum: RVmtgWoAIxqv5kXq//AVMQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5a7c54e7-63a1-4db1-879e-8214486ebc0e) to Async(default) with arguments: #<GlobalID:0x00007f33c5118e88 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
  [1m[36mCustomer Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
  Rendering layout layouts/mailer.html.erb
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (Duration: 1.4ms | Allocations: 350)
  Rendered layout layouts/mailer.html.erb (Duration: 2.5ms | Allocations: 593)
UserMailer#welcome_email: processed outbound mail in 27.2ms
Delivered mail 64e64cd262b18_e6fce1b4647cf@mose-pc.mail (3221.3ms)
Date: Wed, 23 Aug 2023 21:15:46 +0300
From: kian99564@gmail.com
To: ceoian848@gmail.com
Message-ID: <64e64cd262b18_e6fce1b4647cf@mose-pc.mail>
Subject: Welcome To Mill Autos
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Welcome to example.com</h1>
    <p>
      You have successfully signed up to example.com,
    </p>
    <p>Thanks for joining and have a great day!</p>
  </body>
</html>
  </body>
</html>

Completed 201 Created in 3936ms (Views: 0.6ms | ActiveRecord: 27.8ms | Allocations: 146894)


[ActiveJob] [ActiveStorage::AnalyzeJob] [5a7c54e7-63a1-4db1-879e-8214486ebc0e]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5a7c54e7-63a1-4db1-879e-8214486ebc0e] Performing ActiveStorage::AnalyzeJob (Job ID: 5a7c54e7-63a1-4db1-879e-8214486ebc0e) from Async(default) enqueued at 2023-08-23T18:15:46Z with arguments: #<GlobalID:0x00007f3394043098 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [5a7c54e7-63a1-4db1-879e-8214486ebc0e] [36m  Disk Storage (26.2ms) [0m[34mDownloaded file from key: 7ima939y13swnzgw31c78xg2s15v[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5a7c54e7-63a1-4db1-879e-8214486ebc0e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5a7c54e7-63a1-4db1-879e-8214486ebc0e]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":6000,\"height\":4000,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5a7c54e7-63a1-4db1-879e-8214486ebc0e]   [1m[36mTRANSACTION (13.3ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5a7c54e7-63a1-4db1-879e-8214486ebc0e] Performed ActiveStorage::AnalyzeJob (Job ID: 5a7c54e7-63a1-4db1-879e-8214486ebc0e) from Async(default) in 575.27ms
Started POST "/customer/login" for 127.0.0.1 at 2023-08-23 21:16:32 +0300
Processing by CustomersController#login as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f33942cba40 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-59132-1uv00bs.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (username = 'ian') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:19:in `login'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:11:in `get_inage'
Completed 200 OK in 302ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 2288)


Started POST "/customer/login" for 127.0.0.1 at 2023-08-23 21:16:37 +0300
Processing by CustomersController#login as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f33c53316e8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-59132-10vbz3v.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (username = 'ian') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:19:in `login'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:11:in `get_inage'
Completed 200 OK in 324ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 1607)


Started POST "/customer/login" for 127.0.0.1 at 2023-08-23 21:16:38 +0300
Processing by CustomersController#login as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f33a45af170 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-59132-1ae5mfq.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (username = 'ian') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:19:in `login'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:11:in `get_inage'
Completed 200 OK in 302ms (Views: 0.8ms | ActiveRecord: 0.6ms | Allocations: 1608)


Started POST "/customer/login" for 127.0.0.1 at 2023-08-23 21:16:40 +0300
Processing by CustomersController#login as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f33942deca8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-59132-vw55ts.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (username = 'ian') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:19:in `login'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:11:in `get_inage'
Completed 200 OK in 293ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 1608)


Started POST "/customer/login" for 127.0.0.1 at 2023-08-23 21:16:41 +0300
Processing by CustomersController#login as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f339409a398 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-59132-1uevm92.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mCustomer Load (1.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (username = 'ian') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:19:in `login'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:11:in `get_inage'
Completed 200 OK in 314ms (Views: 0.3ms | ActiveRecord: 1.7ms | Allocations: 1595)


Started POST "/customer/login" for 127.0.0.1 at 2023-08-23 21:16:42 +0300
Processing by CustomersController#login as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f33c51f3858 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-59132-4g5g8.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (username = 'ian') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:19:in `login'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:11:in `get_inage'
Completed 200 OK in 300ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 1592)


Started POST "/customer/login" for 127.0.0.1 at 2023-08-23 21:17:44 +0300
Processing by CustomersController#login as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f33b4c93f08 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-59132-1ey6rtc.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (username = 'ian') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:19:in `login'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:11:in `get_inage'
Completed 200 OK in 332ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 16418)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:25:02 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:56: syntax error, unexpected `rescue', expecting `end'
            rescue JWT::DecodeError
            ^~~~~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:61: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/application_controller.rb:56: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:61: syntax error, unexpected `end', expecting end-of-input
app/controllers/application_controller.rb:56: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:61: syntax error, unexpected `end', expecting end-of-input
app/controllers/customers_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2023-08-23 21:25:20 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /usr/share/rvm/gems/ruby-2.7.4/gems/railties-7.0.7/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/share/rvm/gems/ruby-2.7.4/gems/railties-7.0.7/lib/rails/templates/rails/welcome/index.html.erb (Duration: 2.4ms | Allocations: 464)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.0ms | Allocations: 1356)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:25:20 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:56: syntax error, unexpected `rescue', expecting `end'
        rescue JWT::DecodeError
        ^~~~~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:61: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/application_controller.rb:56: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:61: syntax error, unexpected `end', expecting end-of-input
app/controllers/application_controller.rb:56: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:61: syntax error, unexpected `end', expecting end-of-input
app/controllers/customers_controller.rb:1:in `<main>'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:25:53 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:56: syntax error, unexpected `rescue', expecting `end'
        rescue JWT::DecodeError
        ^~~~~~
):
  
app/controllers/application_controller.rb:56: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:56: syntax error, unexpected `rescue', expecting `end'
app/controllers/customers_controller.rb:1:in `<main>'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:26:35 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:56: syntax error, unexpected `rescue', expecting `end'
            rescue JWT::DecodeError
            ^~~~~~
):
  
app/controllers/application_controller.rb:56: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:56: syntax error, unexpected `rescue', expecting `end'
app/controllers/customers_controller.rb:1:in `<main>'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:26:44 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f33c4fe4fa8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-59132-1kzh81u.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 134)


  
JWT::DecodeError (Not enough or too many segments):
  
app/controllers/application_controller.rb:46:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:27:52 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007f33b0747cd8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-59132-pe5j7d.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 123)


  
JWT::DecodeError (Not enough or too many segments):
  
app/controllers/application_controller.rb:46:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:28:22 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:58: syntax error, unexpected `rescue', expecting `end'
        rescue JWT::DecodeError
        ^~~~~~
):
  
app/controllers/application_controller.rb:58: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:58: syntax error, unexpected `rescue', expecting `end'
app/controllers/customers_controller.rb:1:in `<main>'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:29:54 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:58: syntax error, unexpected `rescue', expecting `end'
        rescue JWT::DecodeError
        ^~~~~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:63: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/application_controller.rb:58: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:63: syntax error, unexpected `end', expecting end-of-input
app/controllers/application_controller.rb:58: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:63: syntax error, unexpected `end', expecting end-of-input
app/controllers/customers_controller.rb:1:in `<main>'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:29:56 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:58: syntax error, unexpected `rescue', expecting `end'
        rescue JWT::DecodeError
        ^~~~~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:63: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/application_controller.rb:58: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:63: syntax error, unexpected `end', expecting end-of-input
app/controllers/application_controller.rb:58: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:63: syntax error, unexpected `end', expecting end-of-input
app/controllers/customers_controller.rb:1:in `<main>'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (14.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (16.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (14.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (10.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-23 18:30:25.870618"], ["updated_at", "2023-08-23 18:30:25.870618"]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-23 18:30:25.889680"], ["updated_at", "2023-08-23 18:30:25.889680"]]
  [1m[36mTRANSACTION (14.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (10.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (14.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-23 18:30:26.228004"], ["updated_at", "2023-08-23 18:30:26.228004"]]
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-23 18:30:26.246579"], ["key", "environment"]]
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-23 18:30:26.264774"], ["updated_at", "2023-08-23 18:30:26.264774"]]
  [1m[36mTRANSACTION (13.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAdmin Create (0.3ms)[0m  [1m[32mINSERT INTO "admins" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["phone_number", 126506888], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-23 18:30:26.610724"], ["updated_at", "2023-08-23 18:30:26.610724"]]
  [1m[36mTRANSACTION (14.9ms)[0m  [1m[36mcommit transaction[0m
Started POST "/customer/register" for 127.0.0.1 at 2023-08-23 21:30:29 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:58: syntax error, unexpected `rescue', expecting `end'
            rescue JWT::DecodeError
            ^~~~~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:63: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/application_controller.rb:58: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:63: syntax error, unexpected `end', expecting end-of-input
app/controllers/application_controller.rb:58: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:63: syntax error, unexpected `end', expecting end-of-input
app/controllers/customers_controller.rb:1:in `<main>'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (24.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (11.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (11.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-23 18:31:28.254682"], ["updated_at", "2023-08-23 18:31:28.254682"]]
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-23 18:31:28.273539"], ["updated_at", "2023-08-23 18:31:28.273539"]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (16.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (10.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-23 18:31:28.595654"], ["updated_at", "2023-08-23 18:31:28.595654"]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-23 18:31:28.609158"], ["key", "environment"]]
  [1m[36mTRANSACTION (13.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-23 18:31:28.628506"], ["updated_at", "2023-08-23 18:31:28.628506"]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["phone_number", 126506888], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-23 18:31:28.940121"], ["updated_at", "2023-08-23 18:31:28.940121"]]
  [1m[36mTRANSACTION (13.5ms)[0m  [1m[36mcommit transaction[0m
Started POST "/customer/register" for 127.0.0.1 at 2023-08-23 21:31:30 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#register as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb5113270 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-ixjw4b.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "ian"], ["email", "ceoian848@gmail.com"], ["phone_number", 254704412004], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-23 18:31:31.402419"], ["updated_at", "2023-08-23 18:31:31.402419"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Customer"], ["name", "file"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "g7grhofo3n8ya5jwk7v9tfjuidjl"], ["filename", "web-development.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 2463951], ["checksum", "RVmtgWoAIxqv5kXq//AVMQ=="], ["created_at", "2023-08-23 18:31:31.450334"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "file"], ["record_type", "Customer"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-23 18:31:31.453519"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Update (0.2ms)[0m  [1m[33mUPDATE "customers" SET "updated_at" = ? WHERE "customers"."id" = ?[0m  [["updated_at", "2023-08-23 18:31:31.456063"], ["id", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (13.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
[36m  Disk Storage (8.0ms) [0m[32mUploaded file to key: g7grhofo3n8ya5jwk7v9tfjuidjl (checksum: RVmtgWoAIxqv5kXq//AVMQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b342a9b3-951d-432f-8462-74b2d3c696e8) to Async(default) with arguments: #<GlobalID:0x00007fadb476b178 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
  [1m[36mCustomer Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
  Rendering layout layouts/mailer.html.erb
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (Duration: 1.7ms | Allocations: 350)
  Rendered layout layouts/mailer.html.erb (Duration: 2.5ms | Allocations: 593)
UserMailer#welcome_email: processed outbound mail in 27.4ms
Delivered mail 64e65083889ef_ef79e1b4-590@mose-pc.mail (3852.7ms)
Date: Wed, 23 Aug 2023 21:31:31 +0300
From: kian99564@gmail.com
To: ceoian848@gmail.com
Message-ID: <64e65083889ef_ef79e1b4-590@mose-pc.mail>
Subject: Welcome To Mill Autos
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Welcome to example.com</h1>
    <p>
      You have successfully signed up to example.com,
    </p>
    <p>Thanks for joining and have a great day!</p>
  </body>
</html>
  </body>
</html>

Completed 201 Created in 4393ms (Views: 0.6ms | ActiveRecord: 18.2ms | Allocations: 146939)


[ActiveJob] [ActiveStorage::AnalyzeJob] [b342a9b3-951d-432f-8462-74b2d3c696e8]   [1m[36mActiveStorage::Blob Load (1.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b342a9b3-951d-432f-8462-74b2d3c696e8] Performing ActiveStorage::AnalyzeJob (Job ID: b342a9b3-951d-432f-8462-74b2d3c696e8) from Async(default) enqueued at 2023-08-23T18:31:31Z with arguments: #<GlobalID:0x00005566ceeaece8 @uri=#<URI::GID gid://mill-autos-backend/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b342a9b3-951d-432f-8462-74b2d3c696e8] [36m  Disk Storage (3.7ms) [0m[34mDownloaded file from key: g7grhofo3n8ya5jwk7v9tfjuidjl[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b342a9b3-951d-432f-8462-74b2d3c696e8]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b342a9b3-951d-432f-8462-74b2d3c696e8]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":6000,\"height\":4000,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b342a9b3-951d-432f-8462-74b2d3c696e8]   [1m[36mTRANSACTION (38.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b342a9b3-951d-432f-8462-74b2d3c696e8] Performed ActiveStorage::AnalyzeJob (Job ID: b342a9b3-951d-432f-8462-74b2d3c696e8) from Async(default) in 744.29ms
Started POST "/customer/login" for 127.0.0.1 at 2023-08-23 21:31:47 +0300
Processing by CustomersController#login as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb54ba9a0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-134eo92.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (username = 'ian') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:19:in `login'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `get_inage'
Completed 200 OK in 333ms (Views: 0.3ms | ActiveRecord: 3.7ms | Allocations: 16700)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:32:02 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb4538f40 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1vao4xe.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 125)


  
JWT::DecodeError (Not enough or too many segments):
  
app/controllers/application_controller.rb:47:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:32:36 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc4fb5b98 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-7rh8gb.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 126)


  
JWT::DecodeError (Not enough or too many segments):
  
app/controllers/application_controller.rb:34:in `decode'
app/controllers/application_controller.rb:48:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:32:38 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc5230c10 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1j46ipl.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 115)


  
JWT::DecodeError (Not enough or too many segments):
  
app/controllers/application_controller.rb:34:in `decode'
app/controllers/application_controller.rb:48:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:39:19 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:60: syntax error, unexpected `rescue', expecting `end'
            rescue JWT::ExpiredSignature
            ^~~~~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:65: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/application_controller.rb:60: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:65: syntax error, unexpected `end', expecting end-of-input
app/controllers/application_controller.rb:60: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:65: syntax error, unexpected `end', expecting end-of-input
app/controllers/customers_controller.rb:1:in `<main>'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:39:21 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:60: syntax error, unexpected `rescue', expecting `end'
            rescue JWT::ExpiredSignature
            ^~~~~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:65: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/application_controller.rb:60: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:65: syntax error, unexpected `end', expecting end-of-input
app/controllers/application_controller.rb:60: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:65: syntax error, unexpected `end', expecting end-of-input
app/controllers/customers_controller.rb:1:in `<main>'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:39:22 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:60: syntax error, unexpected `rescue', expecting `end'
            rescue JWT::ExpiredSignature
            ^~~~~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:65: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/application_controller.rb:60: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:65: syntax error, unexpected `end', expecting end-of-input
app/controllers/application_controller.rb:60: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:65: syntax error, unexpected `end', expecting end-of-input
app/controllers/customers_controller.rb:1:in `<main>'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:39:22 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:60: syntax error, unexpected `rescue', expecting `end'
            rescue JWT::ExpiredSignature
            ^~~~~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:65: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/application_controller.rb:60: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:65: syntax error, unexpected `end', expecting end-of-input
app/controllers/application_controller.rb:60: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:65: syntax error, unexpected `end', expecting end-of-input
app/controllers/customers_controller.rb:1:in `<main>'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:53:56 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb00c43a0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-tl3gem.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 52)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:53:57 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc5298270 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-12mgcpx.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 37)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:54:15 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc521e178 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-4ld9er.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms | Allocations: 49)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:54:46 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc4983a68 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1fqmboj.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 400 Bad Request in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 123)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:55:16 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc085a410 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-tzuplj.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 129)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:55:28 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:46: syntax error, unexpected '['
...oken = auth_header.split(" ").[1]
...                              ^
):
  
app/controllers/application_controller.rb:46: syntax error, unexpected '['
app/controllers/application_controller.rb:46: syntax error, unexpected '['
app/controllers/customers_controller.rb:1:in `<main>'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:56:32 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc4c49860 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1eq1dzb.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 137)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:57:33 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc525d738 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-y7j2sl.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 137)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:57:40 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb003aa10 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1v4ktav.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 128)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:57:50 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc4c6c4c8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1texawk.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 129)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:58:16 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb096f770 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-gdarlc.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 189)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/application_controller.rb:34:in `decode'
app/controllers/application_controller.rb:49:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login" for 127.0.0.1 at 2023-08-23 21:58:59 +0300
Processing by CustomersController#login as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb4f3c7a8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-pz4lic.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (username = 'ian') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:19:in `login'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `get_inage'
Completed 200 OK in 326ms (Views: 0.4ms | ActiveRecord: 2.4ms | Allocations: 16303)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:15 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb50dd2b0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-3a52r1.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:25 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb4f01f40 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1tfrmqz.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:26 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb0b38110 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-aaaq9d.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:27 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb09f1a68 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1m9efp8.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:28 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00005566ce8f0dd8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-cghzyi.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:28 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc4590ed8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1e9nzoo.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:29 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00005566cecb7250 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1h1z4t2.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:29 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00005566ce2a28a0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-11pwduj.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:30 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc4a518c8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1lg6tdf.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:30 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00005566cd4c7b68 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1ufe87k.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:30 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc42da1a8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-j67ss2.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:30 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc471c180 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-egwwyq.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:30 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb53cf770 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-13mry3o.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:31 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb0b328c8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-12dtb1v.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:31 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc4fa5068 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-cf4289.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:32 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb53b05f0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1atjdl0.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:33 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadac5e4820 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1ruva2o.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:33 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb8989b40 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-jas81r.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:34 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb0b126b8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1prhqfl.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:39 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb538b250 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-17oeca2.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:39 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadac01a2a0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-a1fd69.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:39 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc53c6070 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-17ne40r.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:39 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00005566ce65c720 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1q1c8gi.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:39 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc0880480 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-zzigk5.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:40 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb8988998 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-l9et1y.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 239)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:40 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada47f5450 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1uasas0.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:40 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc4f986b0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1i2f3oq.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 239)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:40 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb4f05488 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1gnsumu.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:40 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada41cc3a8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-uc5xef.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:40 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00005566ccd4ccf8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-zfd7bx.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:41 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc429dd98 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-t8ypsr.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:41 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc4579490 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-17s2uu.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:41 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc47b33a0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-owh9gi.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:41 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00005566ce280c00 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1co1gyc.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:42 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc41d0758 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-12bzhpr.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:42 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc446dab0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-11u2c6h.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:42 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00005566ced20228 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-17e2i23.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:42 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc02fc680 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-pjpdsr.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:42 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb0afdee8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-ezd0oo.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:43 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb4f5f5f0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-17528cd.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:43 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada4290190 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1qopz90.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:43 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc02cd330 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-5vci6f.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:43 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb80a9f70 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1nme0tz.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:43 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb0a7a480 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-19pucxw.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:44 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb50c31d0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1xnhgv7.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:44 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadac01f908 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-2ivbqk.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:44 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada4c0f158 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-6ro75i.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:44 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada453b430 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-gu2bi4.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 239)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:44 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb89a7910 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-f2bsyi.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:44 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada4263500 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1ydb8ny.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 239)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:45 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada40f4d18 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1dyqw7t.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:45 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb53b1f90 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-372qum.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:50 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb4f1dd30 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-9uxtkv.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:51 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc4274150 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-uxkba6.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:51 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc45af9a0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-zt7ysa.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:54 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada4403540 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-5g9ui3.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:57 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada4bc0418 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-lt8mp1.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:58 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada4659bf0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-lx2tok.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:58 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada502b458 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-13b4q4k.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:58 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada41e8828 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-s8v3nq.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:59 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadac028df0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1rhkj04.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:59 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc076d908 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1vcpnrj.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:59 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb80baa50 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1bytbce.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:59 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb0a96f40 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1sctl88.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:59 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb53634f8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1wfao0i.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 21:59:59 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00005566ce4ba8e0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-i316pq.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:00 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada51dc6a8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1dmmnhn.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:00 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada4f14ba0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1g66cc2.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 239)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:00 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada4400548 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-qkxilx.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:00 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada4e74b00 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1tfvisz.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 239)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:00 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada4762808 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1813qhw.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:01 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada4587ab0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-n0qtn8.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:01 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00005566cd098218 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1ry2td2.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:01 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00005566cea83290 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1ook65q.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:17 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc46bb1c8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1aoz7d9.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:17 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00005566cedc5ae8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-8u9zi.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:17 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc48cff40 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-sr2uxa.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:17 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb80c1c88 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1oma1gu.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:18 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb0ac73c0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1i4yjdo.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:47 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb5367e68 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1y2z7rt.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:47 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada41ff2f8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1s8bc38.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:48 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc08a7c10 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-129h0p9.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:48 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada42acc78 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-gobaps.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:48 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada47816e0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-14xsq96.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:48 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb0a9a5a0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-qhnu4t.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:48 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb80be808 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-jlt1dw.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:49 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc038efd0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-eggd57.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:49 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada514c170 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1a60sdk.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:51 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb0ab49c8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1uyfwkc.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:51 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb5ecd348 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-107p6ga.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:51 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadac911e58 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1ilovw6.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:52 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc02eab38 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-t6gytq.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:52 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00005566cc341678 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-hk7h0n.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:53 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00005566ce6609b0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-rwgeev.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:53 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc42b7400 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-3nhni5.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:53 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc445df48 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1noo239.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:54 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadac915f30 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-9h1tu0.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 242)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:54 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc0757108 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1r4pwrr.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:54 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada4873c10 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1469yns.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:54 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb0ac5160 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-12k3jn1.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:54 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada40eddb0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1osz3p5.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:55 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada405b140 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1mdoj4.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:55 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc4049ec0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-t4546z.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:55 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc42d9230 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-rhztji.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:56 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc4736738 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1ly720x.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:56 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00005566ce27d168 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-13bqo2i.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:56 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc499a4e8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1wpqiog.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:56 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc4c16230 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1buxvm.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:57 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb80d6e08 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1m9jtdh.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:57 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc02e8428 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-15299lt.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:57 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadac911b88 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1ulpqib.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:57 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb5ecf5a8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1kbq4yy.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:00:59 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada4544828 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-t3azl.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 178)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/application_controller.rb:34:in `decode'
app/controllers/application_controller.rb:49:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:01:00 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada49e7c40 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1qgxrix.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 178)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/application_controller.rb:34:in `decode'
app/controllers/application_controller.rb:49:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:01:24 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb4f85610 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-h2qqkl.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 188)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/application_controller.rb:34:in `decode'
app/controllers/application_controller.rb:49:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:03:02 +0300
  
SyntaxError (/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:62: syntax error, unexpected `rescue', expecting `end'
            rescue JWT::ExpiredSignature
            ^~~~~~
/home/mose/Videos/videos/Mill Auto/mill-autos-backend/app/controllers/application_controller.rb:67: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/application_controller.rb:62: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:67: syntax error, unexpected `end', expecting end-of-input
app/controllers/application_controller.rb:62: syntax error, unexpected `rescue', expecting `end'
app/controllers/application_controller.rb:67: syntax error, unexpected `end', expecting end-of-input
app/controllers/customers_controller.rb:1:in `<main>'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:03:12 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada4423430 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-t14g7o.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 189)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/application_controller.rb:34:in `decode'
app/controllers/application_controller.rb:49:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:03:13 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadaca2a678 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1knebo4.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 177)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/application_controller.rb:34:in `decode'
app/controllers/application_controller.rb:49:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:03:14 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb06b6970 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-bsgfi9.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 177)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/application_controller.rb:34:in `decode'
app/controllers/application_controller.rb:49:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:03:27 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb8a27c78 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-ws0s95.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 188)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/application_controller.rb:34:in `decode'
app/controllers/application_controller.rb:49:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:04:12 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadac332640 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1y0ompk.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 189)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/application_controller.rb:34:in `decode'
app/controllers/application_controller.rb:49:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:04:14 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb50be298 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1p6shop.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 177)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/application_controller.rb:34:in `decode'
app/controllers/application_controller.rb:49:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:07:09 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb53cda38 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1lg9ef0.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 177)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/application_controller.rb:34:in `decode'
app/controllers/application_controller.rb:49:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:08:14 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb1337140 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1593o30.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 189)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/application_controller.rb:34:in `decode'
app/controllers/application_controller.rb:49:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:08:16 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc0af9f68 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1ma34el.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 177)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/application_controller.rb:34:in `decode'
app/controllers/application_controller.rb:49:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:08:16 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadaca20740 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-14v561t.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 178)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/application_controller.rb:34:in `decode'
app/controllers/application_controller.rb:49:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:08:16 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb4f87d70 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1mktl8n.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 177)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/application_controller.rb:34:in `decode'
app/controllers/application_controller.rb:49:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:08:16 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb06878a0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-fzgdz4.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 177)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/application_controller.rb:34:in `decode'
app/controllers/application_controller.rb:49:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:08:16 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada5897f60 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-uuld0n.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 177)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/application_controller.rb:34:in `decode'
app/controllers/application_controller.rb:49:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:08:17 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fada43b2e60 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-qivqm3.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 178)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/application_controller.rb:34:in `decode'
app/controllers/application_controller.rb:49:in `verify_auth'
app/controllers/customers_controller.rb:36:in `test_token'
Started POST "/customer/login" for 127.0.0.1 at 2023-08-23 22:08:18 +0300
Processing by CustomersController#login as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00005566cf143da0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1scsnkb.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mCustomer Load (0.1ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (username = 'ian') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:19:in `login'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `get_inage'
Completed 200 OK in 323ms (Views: 0.3ms | ActiveRecord: 2.1ms | Allocations: 16286)


Started POST "/customer/login" for 127.0.0.1 at 2023-08-23 22:08:27 +0300
Processing by CustomersController#login as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc4e624f8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1al5j7c.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (username = 'ian') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:19:in `login'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:12:in `get_inage'
Completed 200 OK in 293ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 1604)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:08:37 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb1333158 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1m1316e.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 240)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:08:38 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb075c050 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1ea9yh9.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:08:38 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb904d2b0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-1vcnlw8.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:08:38 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc0ae28b8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-zbyhuu.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 239)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:08:39 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00007fadc07241e0 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-40pkke.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 238)


Started POST "/customer/login/test" for 127.0.0.1 at 2023-08-23 22:08:39 +0300
Processing by CustomersController#test_token as */*
  Parameters: {"username"=>"ian", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "phone_number"=>"+254704412004", "file"=>#<ActionDispatch::Http::UploadedFile:0x00005566cd50b6d8 @tempfile=#<Tempfile:/tmp/RackMultipart20230823-61305-127mlnk.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 240)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (15.3ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (15.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (16.0ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (9.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (12.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-24 17:41:44.241295"], ["updated_at", "2023-08-24 17:41:44.241295"]]
  [1m[36mTRANSACTION (13.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-24 17:41:44.262574"], ["updated_at", "2023-08-24 17:41:44.262574"]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (16.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (14.4ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (13.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (10.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (12.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-24 17:41:44.563681"], ["updated_at", "2023-08-24 17:41:44.563681"]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-24 17:41:44.581674"], ["key", "environment"]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-24 17:41:44.601470"], ["updated_at", "2023-08-24 17:41:44.601470"]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["phone_number", 126506888], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-24 17:41:44.919837"], ["updated_at", "2023-08-24 17:41:44.919837"]]
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[36mcommit transaction[0m
Started POST "/customer/register" for 127.0.0.1 at 2023-08-24 20:42:41 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#register as */*
  Parameters: {"username"=>"ian", "password_confirmation"=>"[FILTERED]", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "phone_number"=>"+254704412004", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f6a00f1cc20 @tempfile=#<Tempfile:/tmp/RackMultipart20230824-58653-1falpcw.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
[31mUnpermitted parameter: :image. Context: { controller: CustomersController, action: register, request: #<ActionDispatch::Request:0x00007f6a0085c868>, params: {"username"=>"ian", "password_confirmation"=>"[FILTERED]", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "phone_number"=>"+254704412004", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f6a00f1cc20 @tempfile=#<Tempfile:/tmp/RackMultipart20230824-58653-1falpcw.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">, "controller"=>"customers", "action"=>"register"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "ian"], ["email", "ceoian848@gmail.com"], ["phone_number", 254704412004], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-24 17:42:42.152215"], ["updated_at", "2023-08-24 17:42:42.152215"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
  Rendering layout layouts/mailer.html.erb
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (Duration: 2.2ms | Allocations: 350)
  Rendered layout layouts/mailer.html.erb (Duration: 4.0ms | Allocations: 593)
UserMailer#welcome_email: processed outbound mail in 57.1ms
Delivered mail 64e796924e1a2_e51de1b4-45f@mose-pc.mail (3408.6ms)
Date: Thu, 24 Aug 2023 20:42:42 +0300
From: kian99564@gmail.com
To: ceoian848@gmail.com
Message-ID: <64e796924e1a2_e51de1b4-45f@mose-pc.mail>
Subject: Welcome To Mill Autos
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Welcome to example.com</h1>
    <p>
      You have successfully signed up to example.com,
    </p>
    <p>Thanks for joining and have a great day!</p>
  </body>
</html>
  </body>
</html>

Completed 201 Created in 3952ms (Views: 1.0ms | ActiveRecord: 12.6ms | Allocations: 91390)


Started POST "/customer/forgot_password" for 127.0.0.1 at 2023-08-24 20:52:31 +0300
Processing by CustomersController#forgot_password as */*
  Parameters: {"username"=>"ian", "password_confirmation"=>"[FILTERED]", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "phone_number"=>"+254704412004", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f69e817a148 @tempfile=#<Tempfile:/tmp/RackMultipart20230824-58653-1eumuo4.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
[31mUnpermitted parameter: :image. Context: { controller: CustomersController, action: forgot_password, request: #<ActionDispatch::Request:0x00007f69e8102ad0>, params: {"username"=>"ian", "password_confirmation"=>"[FILTERED]", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "phone_number"=>"+254704412004", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f69e817a148 @tempfile=#<Tempfile:/tmp/RackMultipart20230824-58653-1eumuo4.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">, "controller"=>"customers", "action"=>"forgot_password"} }[0m
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (email = 'ceoian848@gmail.com') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:38:in `forgot_password'
Completed 200 OK in 13ms (Views: 0.9ms | ActiveRecord: 0.8ms | Allocations: 5514)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (29.5ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (21.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (23.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (18.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (13.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (22.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (11.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (12.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (15.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-24 17:57:05.656404"], ["updated_at", "2023-08-24 17:57:05.656404"]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-24 17:57:05.674667"], ["updated_at", "2023-08-24 17:57:05.674667"]]
  [1m[36mTRANSACTION (19.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (15.9ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (21.8ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (18.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (26.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (23.6ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (9.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (15.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-24 17:57:06.051951"], ["updated_at", "2023-08-24 17:57:06.051951"]]
  [1m[36mTRANSACTION (17.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-24 17:57:06.083877"], ["key", "environment"]]
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-24 17:57:06.104813"], ["updated_at", "2023-08-24 17:57:06.104813"]]
  [1m[36mTRANSACTION (13.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["phone_number", 126506888], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-24 17:57:06.456628"], ["updated_at", "2023-08-24 17:57:06.456628"]]
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[36mcommit transaction[0m
Started POST "/customer/register" for 127.0.0.1 at 2023-08-24 20:57:12 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#register as */*
  Parameters: {"username"=>"ian", "password_confirmation"=>"[FILTERED]", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "phone_number"=>"+254704412004", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f261d1151a8 @tempfile=#<Tempfile:/tmp/RackMultipart20230824-60180-dq7gjk.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
[31mUnpermitted parameter: :image. Context: { controller: CustomersController, action: register, request: #<ActionDispatch::Request:0x00007f261cb25ae0>, params: {"username"=>"ian", "password_confirmation"=>"[FILTERED]", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "phone_number"=>"+254704412004", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f261d1151a8 @tempfile=#<Tempfile:/tmp/RackMultipart20230824-60180-dq7gjk.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">, "controller"=>"customers", "action"=>"register"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "ian"], ["email", "ceoian848@gmail.com"], ["phone_number", 254704412004], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-24 17:57:12.884706"], ["updated_at", "2023-08-24 17:57:12.884706"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (14.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
UserMailer#welcome_email: processed outbound mail in 5.6ms
Completed 500 Internal Server Error in 426ms (ActiveRecord: 16.4ms | Allocations: 75322)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/mailers/user_mailer.rb:4:in `welcome_email'
app/controllers/customers_controller.rb:7:in `register'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (14.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (10.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-24 17:58:13.977195"], ["updated_at", "2023-08-24 17:58:13.977195"]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-24 17:58:13.997442"], ["updated_at", "2023-08-24 17:58:13.997442"]]
  [1m[36mTRANSACTION (13.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (15.3ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (14.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (12.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (11.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-24 17:58:14.322089"], ["updated_at", "2023-08-24 17:58:14.322089"]]
  [1m[36mTRANSACTION (13.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-24 17:58:14.340337"], ["key", "environment"]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-24 17:58:14.355621"], ["updated_at", "2023-08-24 17:58:14.355621"]]
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAdmin Create (0.3ms)[0m  [1m[32mINSERT INTO "admins" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["phone_number", 126506888], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-24 17:58:14.695077"], ["updated_at", "2023-08-24 17:58:14.695077"]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[36mcommit transaction[0m
Started POST "/customer/register" for 127.0.0.1 at 2023-08-24 20:58:35 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#register as */*
  Parameters: {"username"=>"ian", "password_confirmation"=>"[FILTERED]", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "phone_number"=>"+254704412004", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fe4c89bf640 @tempfile=#<Tempfile:/tmp/RackMultipart20230824-60357-1qbx4eg.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
[31mUnpermitted parameter: :image. Context: { controller: CustomersController, action: register, request: #<ActionDispatch::Request:0x00007fe4d88021a8>, params: {"username"=>"ian", "password_confirmation"=>"[FILTERED]", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "phone_number"=>"+254704412004", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fe4c89bf640 @tempfile=#<Tempfile:/tmp/RackMultipart20230824-60357-1qbx4eg.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">, "controller"=>"customers", "action"=>"register"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "ian"], ["email", "ceoian848@gmail.com"], ["phone_number", 254704412004], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-24 17:58:36.091682"], ["updated_at", "2023-08-24 17:58:36.091682"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
UserMailer#welcome_email: processed outbound mail in 3.6ms
Completed 500 Internal Server Error in 471ms (ActiveRecord: 14.1ms | Allocations: 75299)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/mailers/user_mailer.rb:4:in `welcome_email'
app/controllers/customers_controller.rb:7:in `register'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (14.3ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (14.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (11.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (11.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-24 17:59:47.277718"], ["updated_at", "2023-08-24 17:59:47.277718"]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-24 17:59:47.297961"], ["updated_at", "2023-08-24 17:59:47.297961"]]
  [1m[36mTRANSACTION (14.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (11.6ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (17.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (14.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (14.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (8.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-24 17:59:47.656533"], ["updated_at", "2023-08-24 17:59:47.656533"]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-24 17:59:47.675854"], ["key", "environment"]]
  [1m[36mTRANSACTION (13.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-24 17:59:47.695290"], ["updated_at", "2023-08-24 17:59:47.695290"]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAdmin Create (0.5ms)[0m  [1m[32mINSERT INTO "admins" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["phone_number", 126506888], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-24 17:59:48.039545"], ["updated_at", "2023-08-24 17:59:48.039545"]]
  [1m[36mTRANSACTION (12.8ms)[0m  [1m[36mcommit transaction[0m
Started POST "/customer/register" for 127.0.0.1 at 2023-08-24 20:59:52 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#register as */*
  Parameters: {"username"=>"ian", "password_confirmation"=>"[FILTERED]", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "phone_number"=>"+254704412004", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fd948e68560 @tempfile=#<Tempfile:/tmp/RackMultipart20230824-60638-1ixmddr.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
[31mUnpermitted parameter: :image. Context: { controller: CustomersController, action: register, request: #<ActionDispatch::Request:0x00005596b7dcbc68>, params: {"username"=>"ian", "password_confirmation"=>"[FILTERED]", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "phone_number"=>"+254704412004", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fd948e68560 @tempfile=#<Tempfile:/tmp/RackMultipart20230824-60638-1ixmddr.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">, "controller"=>"customers", "action"=>"register"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.4ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "ian"], ["email", "ceoian848@gmail.com"], ["phone_number", 254704412004], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-24 17:59:53.351930"], ["updated_at", "2023-08-24 17:59:53.351930"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (13.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
UserMailer#welcome_email: processed outbound mail in 36.8ms
Completed 500 Internal Server Error in 632ms (ActiveRecord: 16.5ms | Allocations: 75326)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/mailers/user_mailer.rb:4:in `welcome_email'
app/controllers/customers_controller.rb:7:in `register'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (22.7ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (13.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (8.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (14.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-24 18:00:08.355775"], ["updated_at", "2023-08-24 18:00:08.355775"]]
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-24 18:00:08.378453"], ["updated_at", "2023-08-24 18:00:08.378453"]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "access_tokens"[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE "access_tokens" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (15.6ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "customers"[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "customers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "phone_number" integer, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "mpesas"[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE TABLE "mpesas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "phoneNumber" varchar, "amount" varchar, "checkoutRequestID" varchar, "merchantRequestID" varchar, "mpesa" varchar, "RecieptNumber" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (13.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (9.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230820211245)[0m
  [1m[35m (16.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230819195113),
(20230819200133),
(20230820090059),
(20230820211215);

[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-24 18:00:08.715043"], ["updated_at", "2023-08-24 18:00:08.715043"]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2023-08-24 18:00:08.732780"], ["key", "environment"]]
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "19a1921340b838992d5792a765319873559e345f"], ["created_at", "2023-08-24 18:00:08.759658"], ["updated_at", "2023-08-24 18:00:08.759658"]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["phone_number", 126506888], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-24 18:00:09.076091"], ["updated_at", "2023-08-24 18:00:09.076091"]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[36mcommit transaction[0m
Started POST "/customer/register" for 127.0.0.1 at 2023-08-24 21:00:28 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CustomersController#register as */*
  Parameters: {"username"=>"ian", "password_confirmation"=>"[FILTERED]", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "phone_number"=>"+254704412004", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fe24c9d84c0 @tempfile=#<Tempfile:/tmp/RackMultipart20230824-60784-31if6g.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
[31mUnpermitted parameter: :image. Context: { controller: CustomersController, action: register, request: #<ActionDispatch::Request:0x00007fe24c140f60>, params: {"username"=>"ian", "password_confirmation"=>"[FILTERED]", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "phone_number"=>"+254704412004", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fe24c9d84c0 @tempfile=#<Tempfile:/tmp/RackMultipart20230824-60784-31if6g.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">, "controller"=>"customers", "action"=>"register"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Create (0.3ms)[0m  [1m[32mINSERT INTO "customers" ("username", "email", "phone_number", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["username", "ian"], ["email", "ceoian848@gmail.com"], ["phone_number", 254704412004], ["password_digest", "[FILTERED]"], ["created_at", "2023-08-24 18:00:29.058460"], ["updated_at", "2023-08-24 18:00:29.058460"]]
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/customers_controller.rb:4:in `register'
  [1m[36mCustomer Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "customers" WHERE "customers"."email" = ? AND "customers"."id" != ? LIMIT ?[0m  [["email", "ceoian848@gmail.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:5:in `register'
  Rendering layout layouts/mailer.html.erb
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (Duration: 1.1ms | Allocations: 350)
  Rendered layout layouts/mailer.html.erb (Duration: 2.4ms | Allocations: 593)
UserMailer#welcome_email: processed outbound mail in 21.8ms
Delivered mail 64e79abd21be6_ed70e1b472858@mose-pc.mail (3479.3ms)
Date: Thu, 24 Aug 2023 21:00:29 +0300
From: kian99564@gmail.com
To: ceoian848@gmail.com
Message-ID: <64e79abd21be6_ed70e1b472858@mose-pc.mail>
Subject: Welcome To Mill Autos
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Welcome to example.com</h1>
    <p>
      You have successfully signed up to example.com,
    </p>
    <p>Thanks for joining and have a great day!</p>
  </body>
</html>
  </body>
</html>

Completed 201 Created in 3950ms (Views: 0.6ms | ActiveRecord: 14.1ms | Allocations: 91422)


Started POST "/customer/forgot_password" for 127.0.0.1 at 2023-08-24 21:07:33 +0300
Processing by CustomersController#forgot_password as */*
  Parameters: {"username"=>"ian", "password_confirmation"=>"[FILTERED]", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "phone_number"=>"+254704412004", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fe2441a4860 @tempfile=#<Tempfile:/tmp/RackMultipart20230824-60784-xip99a.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">}
[31mUnpermitted parameter: :image. Context: { controller: CustomersController, action: forgot_password, request: #<ActionDispatch::Request:0x00007fe2440e9128>, params: {"username"=>"ian", "password_confirmation"=>"[FILTERED]", "email"=>"ceoian848@gmail.com", "password"=>"[FILTERED]", "phone_number"=>"+254704412004", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fe2441a4860 @tempfile=#<Tempfile:/tmp/RackMultipart20230824-60784-xip99a.jpg>, @content_type="image/jpeg", @original_filename="web-development.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"web-development.jpg\"\r\nContent-Type: image/jpeg\r\n">, "controller"=>"customers", "action"=>"forgot_password"} }[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE (email = 'ceoian848@gmail.com') ORDER BY "customers"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/customers_controller.rb:37:in `forgot_password'
  Rendering layout layouts/mailer.html.erb
  Rendering forgot_mailer/forgot_email.html.erb within layouts/mailer
  Rendered forgot_mailer/forgot_email.html.erb within layouts/mailer (Duration: 2.0ms | Allocations: 150)
  Rendered layout layouts/mailer.html.erb (Duration: 3.1ms | Allocations: 382)
ForgotMailer#forgot_email: processed outbound mail in 7.2ms
Delivered mail 64e79c655e512_ed70e1dc729e1@mose-pc.mail (5697.4ms)
Date: Thu, 24 Aug 2023 21:07:33 +0300
From: kian99564@gmail.com
To: ceoian848@gmail.com
Message-ID: <64e79c655e512_ed70e1dc729e1@mose-pc.mail>
Subject: Forgot Password
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Hi there,</h1>
    <p>
      We have recieved a request to change the password,
    </p>
    <p>If this is not you, please ignore this</p>
  </body>
</html>
  </body>
</html>

Completed 204 No Content in 5730ms (ActiveRecord: 1.6ms | Allocations: 11833)


